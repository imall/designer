{"version":3,"file":"js/209.4955b1f1.js","mappings":"gLAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACE,YAAY,+DAA+D,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,OAAsC,KAA3BL,EAAIM,mBAA4BN,EAAIM,mBAAqB,MAAQ,IAAnE,QAA6EJ,EAAG,UAAU,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACF,EAAG,MAAM,CAACE,YAAY,sDAAsDG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIS,QAAQC,KAAK,CAACC,KAAM,aAAa,EAAE,SAAW,SAASH,GAAQ,OAAOR,EAAIS,QAAQC,KAAK,CAACC,KAAM,aAAa,IAAI,CAACT,EAAG,oBAAoB,CAACG,MAAM,CAAC,KAAO,+BAA+BH,EAAG,OAAO,CAACE,YAAY,YAAY,CAACJ,EAAIY,GAAG,WAAW,GAAGV,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,mFAAmFG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIS,QAAQC,KAAK,CAACC,KAAM,cAAc,EAAE,SAAW,SAASH,GAAQ,OAAOR,EAAIS,QAAQC,KAAK,CAACC,KAAM,cAAc,IAAI,CAACT,EAAG,OAAO,CAACE,YAAY,YAAY,CAACJ,EAAIY,GAAG,UAAUV,EAAG,oBAAoB,CAACG,MAAM,CAAC,KAAO,yBAAyB,OAAOH,EAAG,MAAM,CAACE,YAAY,gDAAgD,CAACF,EAAG,UAAU,CAACW,IAAI,WAAWT,YAAY,cAAcC,MAAM,CAAC,YAAc,cAAcE,GAAG,CAAC,WAAaP,EAAIc,WAAWC,YAAYf,EAAIgB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAA6B,KAA3BlB,EAAImB,WAAWC,QAAgBlB,EAAG,oBAAoB,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,uBAAuBE,GAAG,CAAC,MAAQP,EAAIqB,gBAAgBrB,EAAIsB,KAAKpB,EAAG,oBAAoB,CAACG,MAAM,CAAC,KAAO,kCAAkCE,GAAG,CAAC,MAAQP,EAAIc,aAAa,EAAES,OAAM,KAAQC,MAAM,CAACC,MAAOzB,EAAImB,WAAWC,QAASM,SAAS,SAAUC,GAAM3B,EAAI4B,KAAK5B,EAAImB,WAAY,UAAWQ,EAAI,EAAEE,WAAW,yBAAyB,GAAG3B,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,uBAAuB,CAACH,EAAG,iBAAiB,CAAC4B,WAAW,CAAC,CAACnB,KAAK,OAAOoB,QAAQ,SAASN,MAAOzB,EAAIgC,iBAAkBH,WAAW,qBAAqBzB,YAAY,qBAAqBC,MAAM,CAAC,OAAS,QAAQ,mBAAmBL,EAAIiC,kBAAkB,cAAc,GAAG,WAAajC,EAAIK,MAAM,MAAQL,EAAIkC,OAAO3B,GAAG,CAAC,iBAAiB,SAASC,GAAQ,OAAOR,EAAImC,WAAW3B,EAAO,GAAGO,YAAYf,EAAIgB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,UAAS,KAACkB,EAAI,WAACC,IAAa,MAAO,CAACnC,EAAG,MAAM,CAACE,YAAY,yCAAyC,CAACF,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAACF,EAAG,OAAO,CAACE,YAAY,aAAa,CAACJ,EAAIY,GAAGZ,EAAIsC,GAAGtC,EAAIuC,GAAG,aAAPvC,CAAqBoC,IAAO,OAAOlC,EAAG,OAAO,CAACE,YAAY,2BAA2B,CAACJ,EAAIY,GAAGZ,EAAIsC,GAAGD,UAAmB,GAAG,CAACpB,IAAI,qBAAqBC,GAAG,WAAW,MAAO,CAAChB,EAAG,oBAAoB,CAACE,YAAY,oDAAoDC,MAAM,CAAC,KAAO,0BAA0BE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIwC,cAAc,EAAE,KAAK,EAAEjB,OAAM,GAAM,CAACN,IAAI,sBAAsBC,GAAG,WAAW,MAAO,CAAChB,EAAG,oBAAoB,CAACE,YAAY,qDAAqDC,MAAM,CAAC,KAAO,2BAA2BE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIwC,aAAa,EAAE,KAAK,EAAEjB,OAAM,GAAM,CAACN,IAAI,cAAcC,GAAG,UAAS,IAAEuB,EAAG,WAAEC,IAAc,MAAO,CAACxC,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACA,EAAG,IAAI,CAACE,YAAY,gDAAgDuC,MAAM,CAAE3C,EAAI4C,OAAO5C,EAAImB,WAAW0B,cAAcC,YAAc9C,EAAI4C,OAAOH,EAAIM,MAAMD,UACtzG,iNACA,IAAIvC,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAImB,WAAW0B,aAAe7C,EAAI4C,OAAOH,EAAIM,MAAMD,SAAS,EAAE,SAAW,SAAStC,GAAQR,EAAImB,WAAW0B,aAAe7C,EAAI4C,OAAOH,EAAIM,MAAMD,SAAS,IAAI,CAAC9C,EAAIY,GAAGZ,EAAIsC,GAAGG,EAAIA,UAAUvC,EAAG,MAAM,CAACE,YAAY,gDAAgD,CAAEJ,EAAIgD,aAAaN,GAAaxC,EAAG,OAAO,CAACE,YAAY,iFAAiFJ,EAAIsB,SAAS,KAAKE,MAAM,CAACC,MAAOzB,EAAImB,WAAW0B,aAAcnB,SAAS,SAAUC,GAAM3B,EAAI4B,KAAK5B,EAAImB,WAAY,eAAgBQ,EAAI,EAAEE,WAAW,8BAA8B,GAAG3B,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,IAAI,CAACE,YAAY,qHAAqH,CAACJ,EAAIY,GAAG,OAAOZ,EAAIsC,GAAGtC,EAAIiD,gBAAgB,OAAQjD,EAAIiD,eAAgB/C,EAAG,MAAMF,EAAIkD,GAAIlD,EAAImD,cAAc,SAASC,EAAWC,GAAO,OAAOnD,EAAG,MAAM,CAACe,IAAK,aAAYoC,IAAQjD,YAAY,0GAA0GG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIsD,QAAQF,GAAW,EAAK,EAAE,SAAW,SAAS5C,GAAQ,OAAOR,EAAIsD,QAAQF,GAAW,EAAK,IAAI,CAAClD,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,oBAAoB,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,iCAAiCH,EAAG,OAAO,CAACF,EAAIY,GAAGZ,EAAIsC,GAAGtC,EAAIuC,GAAG,iBAAPvC,CAAyBoD,EAAWL,WAAW,GAAG7C,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,oBAAoB,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,4BAA4BH,EAAG,OAAO,CAACF,EAAIY,GAAGZ,EAAIsC,GAAGtC,EAAIuC,GAAG,YAAPvC,CAAoBoD,EAAWL,WAAW,GAAG7C,EAAG,MAAM,CAACE,YAAY,0DAA0D,CAACF,EAAG,oBAAoB,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,sBAAsBH,EAAG,OAAO,CAACF,EAAIY,GAAGZ,EAAIsC,GAAGc,EAAWG,SAAS5C,MAAQ,UAAU,GAAGT,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACJ,EAAIY,GAAGZ,EAAIsC,GAAGc,EAAWI,aAAatD,EAAG,MAAM,CAACA,EAAG,oBAAoB,CAACG,MAAM,CAAC,KAAO,8BAA8B,IAAI,IAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIY,GAAG,kBAAkBV,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,IAAI,CAACE,YAAY,qHAAqH,CAACJ,EAAIY,GAAG,QAAQZ,EAAIsC,GAAGtC,EAAIyD,eAAe,OAAQzD,EAAIyD,cAAevD,EAAG,MAAMF,EAAIkD,GAAIlD,EAAI0D,aAAa,SAASN,EAAWC,GAAO,OAAOnD,EAAG,MAAM,CAACe,IAAK,aAAYoC,IAAQjD,YAAY,0GAA0GG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIsD,QAAQF,GAAW,EAAM,EAAE,SAAW,SAAS5C,GAAQ,OAAOR,EAAIsD,QAAQF,GAAW,EAAM,IAAI,CAAClD,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,oBAAoB,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,iCAAiCH,EAAG,OAAO,CAACF,EAAIY,GAAGZ,EAAIsC,GAAGtC,EAAIuC,GAAG,iBAAPvC,CAAyBoD,EAAWL,WAAW,GAAG7C,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,oBAAoB,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,4BAA4BH,EAAG,OAAO,CAACF,EAAIY,GAAGZ,EAAIsC,GAAGtC,EAAIuC,GAAG,YAAPvC,CAAoBoD,EAAWL,WAAW,GAAG7C,EAAG,MAAM,CAACE,YAAY,0DAA0D,CAACF,EAAG,oBAAoB,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,sBAAsBH,EAAG,OAAO,CAACF,EAAIY,GAAGZ,EAAIsC,GAAGc,EAAWG,SAAS5C,MAAQ,UAAU,GAAGT,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,OAAO,CAACF,EAAIY,GAAGZ,EAAIsC,GAAGc,EAAWI,aAAatD,EAAG,MAAM,CAACA,EAAG,oBAAoB,CAACG,MAAM,CAAC,KAAO,8BAA8B,IAAI,IAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIY,GAAG,iBAAiB,IAAI,EAC1/G,EACI+C,EAAkB,G,SC2ItB,GACAhD,KAAAA,cACAiD,YAAAA,QACAC,SAAAA,CACAC,MAAAA,eACAC,cAAAA,WAEAC,UACA,WACA,EACAC,OACA,OACA/B,MAAAA,CACAgC,SAAAA,OAEAlC,kBAAAA,EACAb,WAAAA,CACAC,QAAAA,GAEA+C,YAAAA,EACAtB,aAAAA,KAAAA,OAAAA,KAAAA,SAAAA,OAAAA,eAAAA,WAGAuB,kBAAAA,CACAC,MAAAA,KAAAA,OAAAA,IAAAA,MAAAA,QAAAA,SAAAA,UACAC,IAAAA,KAAAA,OAAAA,IAAAA,MAAAA,MAAAA,SAAAA,WAGAjE,MAAAA,GAEA8C,aAAAA,GACAO,YAAAA,GAEAzB,kBAAAA,CACAsC,UAAAA,CACAC,MAAAA,CACAC,WAAAA,eAEAC,SAAAA,UAIA,EACAC,QAAAA,CACA,mBACA,sEACA,EACA,qBACA,iCACA,gBACA,EACA,yBACAC,QAAAA,IAAAA,oBACA,gCACAC,UAAAA,KAAAA,OAAAA,KAAAA,kBAAAA,OAAAA,UAAAA,KAAAA,OAAAA,KAAAA,kBAAAA,OAAAA,UAAAA,GACAC,QAAAA,KAAAA,OAAAA,KAAAA,kBAAAA,KAAAA,UAAAA,KAAAA,OAAAA,KAAAA,kBAAAA,KAAAA,UAAAA,GACAC,WAAAA,KAAAA,SAAAA,KAAAA,GACAC,YAAAA,KAEA,KAAAf,EAAAA,OAAAgB,GAAA,OACA,aACA,wFACA,CACAhE,IAAAA,GAAAA,EAAAA,KAKAiE,WAAAA,CACAvC,MAAAA,OAEAwC,MAAAA,EAAAA,OAEA,CACA,CACAlE,IAAAA,GAAAA,EAAAA,KAOAkE,MAAAA,EAAAA,SAEA,GACA,oBACA,EACA,EACA,kBACA,gCACAN,UAAAA,KAAAA,OAAAA,KAAAA,WAAAA,cAAAA,UAAAA,KAAAA,OAAAA,KAAAA,WAAAA,cAAAA,UAAAA,GACAC,QAAAA,KAAAA,OAAAA,KAAAA,WAAAA,cAAAA,UAAAA,KAAAA,OAAAA,KAAAA,WAAAA,cAAAA,UAAAA,GACAC,WAAAA,KAAAA,SAAAA,KAAAA,GACAK,aAAAA,CACAhE,QAAAA,kBAAAA,KAAAA,WAAAA,QAAAA,KAAAA,WAAAA,QAAAA,oBAAAA,KAAAA,WAAAA,QACAiE,eAAAA,GAEAL,YAAAA,KAEA,KAAAf,EAAAA,OAAAgB,GAAA,OACA,aACA,gEACA,+DACA,oBACA,EACA,EACA3B,QAAAA,EAAAA,GACA,mBAAA3C,KAAAA,aAAA2E,MAAAA,CAAAC,GAAAA,EAAAA,GAAAC,aACA,EACAhD,aAAAA,GACA,yIACA,kIACA,EACAL,WAAAA,GACA,eACA,YACA,kBACA,oBACA,sCACA,sCAEA,+BACA,4BACA,GAEAsD,SAAAA,KACA,wDACA,2CACAxC,iBACA,+BACA,EACAD,eACA,WACA,SAQA,OAPA,iCACAQ,GAAAA,EAAAA,GAAAA,WAEA,+BACAA,GAAAA,GAGA,EAEA,EACAC,gBACA,8BACA,GAEAiC,MAAAA,CACA,2BACAC,UACA,8BACA,gBACA,GAEAvB,kBAAAA,CACAwB,MAAAA,EACAD,UACA,uBACA,KC9SqS,I,UCQjSE,GAAY,OACd,EACA9F,EACA4D,GACA,EACA,KACA,WACA,MAIF,EAAekC,EAAiB,O","sources":["webpack://bos-designer/./src/views/Home/order/index.vue","webpack://bos-designer/src/views/Home/order/index.vue","webpack://bos-designer/./src/views/Home/order/index.vue?f5ec","webpack://bos-designer/./src/views/Home/order/index.vue?3f27"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('main',{staticClass:\"box-border h-full min-h-[calc(100vh-84px)] w-full pb-[84px]\"},[_c('C-Back-Nav',{attrs:{\"title\":`${_vm.GETTER_MECHANTNAME !== '' ? _vm.GETTER_MECHANTNAME + ' - ' : ''}預約`}}),_c('section',{staticClass:\"relative z-0 mt-[52px] p-3\"},[_c('div',{staticClass:\"mb-4 flex items-center justify-between\"},[_c('div',{staticClass:\"rounded-[10px] bg-primary px-[14px] py-1 text-white\",on:{\"click\":function($event){return _vm.$router.push({name: 'Order-add'})},\"keypress\":function($event){return _vm.$router.push({name: 'Order-add'})}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"fa-regular fa-circle-plus\"}}),_c('span',{staticClass:\"ml-[6px]\"},[_vm._v(\"新增預約\")])],1),_c('div',{staticClass:\"flex items-center gap-2 text-left\"},[_c('div',{staticClass:\"inline-block w-fit cursor-pointer rounded-[10px] bg-primary px-2 py-1 text-white\",on:{\"click\":function($event){return _vm.$router.push({name: 'Order-list'})},\"keypress\":function($event){return _vm.$router.push({name: 'Order-list'})}}},[_c('span',{staticClass:\"mr-[6px]\"},[_vm._v(\"列表查詢\")]),_c('font-awesome-icon',{attrs:{\"icon\":\"fa-regular fa-list\"}})],1)])]),_c('div',{staticClass:\"mb-4 flex items-center justify-between gap-2\"},[_c('C-Input',{ref:\"inputVal\",staticClass:\"mb-0 w-full\",attrs:{\"placeholder\":'搜尋姓名、電話、代號'},on:{\"doFunction\":_vm.getOrders},scopedSlots:_vm._u([{key:\"endIcon\",fn:function(){return [(_vm.searchForm.keyword !== '')?_c('font-awesome-icon',{staticClass:\"text-rose-600\",attrs:{\"icon\":\"fa-regular fa-xmark\"},on:{\"click\":_vm.doInitSearch}}):_vm._e(),_c('font-awesome-icon',{attrs:{\"icon\":\"fa-regular fa-magnifying-glass\"},on:{\"click\":_vm.getOrders}})]},proxy:true}]),model:{value:(_vm.searchForm.keyword),callback:function ($$v) {_vm.$set(_vm.searchForm, \"keyword\", $$v)},expression:\"searchForm.keyword\"}})],1),_c('transition',{attrs:{\"name\":\"collapseTransition\"}},[_c('vc-date-picker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActiveCalendar),expression:\"isActiveCalendar\"}],staticClass:\"relative mt-[50px]\",attrs:{\"locale\":\"zh-TW\",\"select-attribute\":_vm.selectedAttribute,\"is-expanded\":\"\",\"attributes\":_vm.attrs,\"masks\":_vm.masks},on:{\"update:to-page\":function($event){return _vm.swipeMonth($event)}},scopedSlots:_vm._u([{key:\"header\",fn:function({year,monthLabel}){return [_c('div',{staticClass:\"absolute inset-x-0 top-[-50px] w-full\"},[_c('div',{staticClass:\"flex items-center justify-center\"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(_vm._s(_vm._f(\"dateFormat\")(year))+\"年\")]),_c('span',{staticClass:\"ml-2 text-2xl font-bold\"},[_vm._v(_vm._s(monthLabel))])])])]}},{key:\"header-left-button\",fn:function(){return [_c('font-awesome-icon',{staticClass:\"absolute left-0 top-[-46px] text-2xl text-primary\",attrs:{\"icon\":\"fa-solid fa-angle-left\"},on:{\"click\":function($event){return _vm.preNextMonth(-1)}}})]},proxy:true},{key:\"header-right-button\",fn:function(){return [_c('font-awesome-icon',{staticClass:\"absolute right-0 top-[-46px] text-2xl text-primary\",attrs:{\"icon\":\"fa-solid fa-angle-right\"},on:{\"click\":function($event){return _vm.preNextMonth(1)}}})]},proxy:true},{key:\"day-content\",fn:function({ day, attributes }){return [_c('div',{staticClass:\"z-10 flex flex-col\"},[_c('div',[_c('p',{staticClass:\"day-label relative my-2 text-sm text-gray-900\",class:[ _vm.$dayjs(_vm.searchForm.selectedDate).valueOf() === _vm.$dayjs(day.date).valueOf()\n                ? ' before:contents-[``] before:m-auto  before:absolute before:inline-block before:h-[24px] before:w-[24px] before:top-[-1px] before:left-0 before:right-0 before:bg-[#feb401] before:z-[-1] before:rounded-[50%]'\n                : ''],on:{\"click\":function($event){_vm.searchForm.selectedDate = _vm.$dayjs(day.date).valueOf()},\"keypress\":function($event){_vm.searchForm.selectedDate = _vm.$dayjs(day.date).valueOf()}}},[_vm._v(_vm._s(day.day))])]),_c('div',{staticClass:\"m-auto inline-block max-w-[13vmin] break-all\"},[(_vm.hasOnlyOrder(attributes))?_c('span',{staticClass:\"m-[2px] inline-block h-[5px] w-[5px] rounded-[50%] bg-[#feb401] content-['']\"}):_vm._e()])])]}}]),model:{value:(_vm.searchForm.selectedDate),callback:function ($$v) {_vm.$set(_vm.searchForm, \"selectedDate\", $$v)},expression:\"searchForm.selectedDate\"}})],1),_c('div',{staticClass:\"text-left text-sm\"},[_c('p',{staticClass:\"before:contents-[''] relative my-3 pl-2 before:absolute before:inset-0 before:h-full before:w-1 before:bg-primary\"},[_vm._v(\"待審查(\"+_vm._s(_vm.isReviewResult)+\")\")]),(_vm.isReviewResult)?_c('div',_vm._l((_vm.reviewResult),function(reviewItem,index){return _c('div',{key:`reviewItem${index}`,staticClass:\"mb-3 flex cursor-pointer items-center justify-between border-b border-solid border-primary/50 py-1 pl-2\",on:{\"click\":function($event){return _vm.doRoute(reviewItem,true)},\"keypress\":function($event){return _vm.doRoute(reviewItem,true)}}},[_c('div',{staticClass:\"w-3/12\"},[_c('font-awesome-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"fa-regular fa-calendar-days\"}}),_c('span',[_vm._v(_vm._s(_vm._f(\"dateFmtROCMMDD\")(reviewItem.date)))])],1),_c('div',{staticClass:\"w-3/12\"},[_c('font-awesome-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"fa-solid fa-clock-five\"}}),_c('span',[_vm._v(_vm._s(_vm._f(\"dateFmtHm\")(reviewItem.date)))])],1),_c('div',{staticClass:\"w-3/12 overflow-hidden text-ellipsis whitespace-nowrap\"},[_c('font-awesome-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"fa-solid fa-user\"}}),_c('span',[_vm._v(_vm._s(reviewItem.customer.name || '--'))])],1),_c('div',{staticClass:\"w-3/12 min-w-[42px]\"},[_c('span',{staticClass:\"text-sucessText\"},[_vm._v(_vm._s(reviewItem.status))])]),_c('div',[_c('font-awesome-icon',{attrs:{\"icon\":\"fa-solid fa-angle-right\"}})],1)])}),0):_c('div',{staticClass:\"my-3 pl-2\"},[_vm._v(\"目前沒有待審查的預約\")])]),_c('div',{staticClass:\"text-left text-sm\"},[_c('p',{staticClass:\"before:contents-[''] relative my-3 pl-2 before:absolute before:inset-0 before:h-full before:w-1 before:bg-primary\"},[_vm._v(\"預約明細(\"+_vm._s(_vm.isOrderResult)+\")\")]),(_vm.isOrderResult)?_c('div',_vm._l((_vm.orderResult),function(reviewItem,index){return _c('div',{key:`reviewItem${index}`,staticClass:\"mb-3 flex cursor-pointer items-center justify-between border-b border-solid border-primary/50 py-1 pl-2\",on:{\"click\":function($event){return _vm.doRoute(reviewItem,false)},\"keypress\":function($event){return _vm.doRoute(reviewItem,false)}}},[_c('div',{staticClass:\"w-3/12\"},[_c('font-awesome-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"fa-regular fa-calendar-days\"}}),_c('span',[_vm._v(_vm._s(_vm._f(\"dateFmtROCMMDD\")(reviewItem.date)))])],1),_c('div',{staticClass:\"w-2/12\"},[_c('font-awesome-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"fa-solid fa-clock-five\"}}),_c('span',[_vm._v(_vm._s(_vm._f(\"dateFmtHm\")(reviewItem.date)))])],1),_c('div',{staticClass:\"w-3/12 overflow-hidden text-ellipsis whitespace-nowrap\"},[_c('font-awesome-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"fa-solid fa-user\"}}),_c('span',[_vm._v(_vm._s(reviewItem.customer.name || '--'))])],1),_c('div',{staticClass:\"w-3/12 min-w-[42px]\"},[_c('span',[_vm._v(_vm._s(reviewItem.status))])]),_c('div',[_c('font-awesome-icon',{attrs:{\"icon\":\"fa-solid fa-angle-right\"}})],1)])}),0):_c('div',{staticClass:\"my-3 pl-2\"},[_vm._v(\"目前沒有任何預約\")])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <main class=\"box-border h-full min-h-[calc(100vh-84px)] w-full pb-[84px]\">\n    <C-Back-Nav :title=\"`${GETTER_MECHANTNAME !== '' ? GETTER_MECHANTNAME + ' - ' : ''}預約`\"></C-Back-Nav>\n    <section class=\"relative z-0 mt-[52px] p-3\">\n\n      <div class=\"mb-4 flex items-center justify-between\">\n        <div class=\"rounded-[10px] bg-primary px-[14px] py-1 text-white\" @click=\"$router.push({name: 'Order-add'})\" @keypress=\"$router.push({name: 'Order-add'})\">\n          <font-awesome-icon icon=\"fa-regular fa-circle-plus\" />\n          <span class=\"ml-[6px]\">新增預約</span>\n        </div>\n        <div class=\" flex items-center gap-2 text-left\">\n          <div class=\"inline-block w-fit cursor-pointer rounded-[10px] bg-primary px-2 py-1 text-white\" @click=\"$router.push({name: 'Order-list'})\" @keypress=\"$router.push({name: 'Order-list'})\">\n            <span class=\"mr-[6px]\">列表查詢</span>\n            <font-awesome-icon icon=\"fa-regular fa-list\" />\n          </div>\n          <!-- <font-awesome-icon :icon=\"isActiveCalendar ? 'fa-regular fa-list' : 'fa-regular fa-calendar-days'\" class=\"w-[24px] text-2xl\" @click=\"isActiveCalendar = !isActiveCalendar\" /> -->\n        </div>\n      </div>\n\n      <div class=\"mb-4 flex items-center justify-between gap-2\">\n        <C-Input v-model=\"searchForm.keyword\" @doFunction=\"getOrders\" :placeholder=\"'搜尋姓名、電話、代號'\" class=\"mb-0 w-full\"  ref=\"inputVal\">\n          <template v-slot:endIcon>\n            <font-awesome-icon v-if=\"searchForm.keyword !== ''\" @click=\"doInitSearch\" icon=\"fa-regular fa-xmark\" class=\" text-rose-600\"/>\n            <font-awesome-icon @click=\"getOrders\" icon=\"fa-regular fa-magnifying-glass\"/>\n          </template>\n        </C-Input>\n      </div>\n\n      <transition name=\"collapseTransition\">\n        <vc-date-picker locale=\"zh-TW\" @update:to-page=\"swipeMonth($event)\" v-show=\"isActiveCalendar\" v-model=\"searchForm.selectedDate\" :select-attribute=\"selectedAttribute\" is-expanded :attributes=\"attrs\" :masks=\"masks\" class=\"relative mt-[50px]\">\n          <template v-slot:header=\"{year,monthLabel}\">\n            <div class=\"absolute inset-x-0 top-[-50px] w-full\">\n              <div class=\"flex items-center justify-center\">\n                <span class=\"font-bold\">{{year |dateFormat }}年</span>\n                <span class=\"ml-2 text-2xl font-bold\">{{monthLabel}}</span>\n              </div>\n            </div>\n          </template>\n\n          <template v-slot:header-left-button>\n            <font-awesome-icon @click=\"preNextMonth(-1)\" icon=\"fa-solid fa-angle-left\" class=\"absolute left-0 top-[-46px] text-2xl text-primary\"/>\n          </template>\n\n          <template v-slot:header-right-button>\n            <font-awesome-icon @click=\"preNextMonth(1)\" icon=\"fa-solid fa-angle-right\" class=\"absolute right-0 top-[-46px] text-2xl text-primary\"/>\n          </template>\n          <!-- eslint-disable-next-line vue/no-unused-vars -->\n          <template v-slot:day-content=\"{ day, attributes }\">\n            <div class=\"z-10 flex flex-col\">\n              <div>\n                <p\n                  class=\"day-label relative my-2 text-sm text-gray-900\"\n                  :class=\"[ $dayjs(searchForm.selectedDate).valueOf() === $dayjs(day.date).valueOf()\n                  ? ' before:contents-[``] before:m-auto  before:absolute before:inline-block before:h-[24px] before:w-[24px] before:top-[-1px] before:left-0 before:right-0 before:bg-[#feb401] before:z-[-1] before:rounded-[50%]'\n                  : '']\"\n                  @click=\"searchForm.selectedDate = $dayjs(day.date).valueOf()\"\n                  @keypress=\"searchForm.selectedDate = $dayjs(day.date).valueOf()\"\n                >{{ day.day }}</p>\n              </div>\n                <!-- @click=\"searchForm.selectedDate = day.date\" -->\n              <div class=\"m-auto inline-block max-w-[13vmin] break-all\">\n                <span v-if=\"hasOnlyOrder(attributes)\" class=\"m-[2px] inline-block h-[5px] w-[5px] rounded-[50%] bg-[#feb401] content-['']\"></span>\n                <!-- <template v-for=\"(attr,index) in attributes\">\n                  <span\n                    v-if=\"!attr.highlight\"\n                    :key=\"attr.key + index\"\n                    :data-attr=\"attr.customData ? attr.customData.class:''\"\n                    v-ripple=\"100\"\n                    class=\"m-[2px] inline-block h-[5px] w-[5px] rounded-[50%] bg-[#feb401] content-['']\"\n                  >\n                  {{attr.customData}}\n                  </span>\n                </template> -->\n              </div>\n            </div>\n          </template>\n        </vc-date-picker>\n      </transition>\n\n      <div class=\"text-left text-sm\">\n        <p class=\"before:contents-[''] relative my-3 pl-2 before:absolute before:inset-0 before:h-full before:w-1 before:bg-primary\">待審查({{isReviewResult}})</p>\n        <div v-if=\"isReviewResult\">\n\n          <div v-for=\"(reviewItem, index) in reviewResult\" :key=\"`reviewItem${index}`\" @click=\"doRoute(reviewItem,true)\" @keypress=\"doRoute(reviewItem,true)\" class=\"mb-3 flex cursor-pointer items-center justify-between border-b border-solid border-primary/50 py-1 pl-2\">\n            <div class=\"w-3/12\">\n              <font-awesome-icon icon=\"fa-regular fa-calendar-days\" class=\"mr-1\" />\n              <span>{{reviewItem.date | dateFmtROCMMDD}}</span>\n              </div>\n            <div class=\"w-3/12\">\n              <font-awesome-icon icon=\"fa-solid fa-clock-five\" class=\"mr-1\" />\n              <span>{{reviewItem.date | dateFmtHm}}</span>\n            </div>\n            <div class=\"w-3/12 overflow-hidden text-ellipsis whitespace-nowrap\">\n              <font-awesome-icon icon=\"fa-solid fa-user\" class=\"mr-1\" />\n              <span>{{reviewItem.customer.name || '--'}}</span>\n              </div>\n            <div class=\"w-3/12 min-w-[42px]\">\n              <span class=\"text-sucessText\">{{reviewItem.status}}</span>\n            </div>\n            <div>\n              <font-awesome-icon icon=\"fa-solid fa-angle-right\" />\n            </div>\n          </div>\n        </div>\n        <div v-else class=\"my-3  pl-2\">目前沒有待審查的預約</div>\n      </div>\n\n      <div class=\"text-left text-sm\">\n        <p class=\"before:contents-[''] relative my-3 pl-2 before:absolute before:inset-0 before:h-full before:w-1 before:bg-primary\">預約明細({{isOrderResult}})</p>\n        <div v-if=\"isOrderResult\">\n\n          <div v-for=\"(reviewItem, index) in orderResult\" :key=\"`reviewItem${index}`\" @click=\"doRoute(reviewItem,false)\" @keypress=\"doRoute(reviewItem,false)\" class=\"mb-3 flex cursor-pointer items-center justify-between border-b border-solid border-primary/50 py-1 pl-2\">\n            <div class=\"w-3/12\">\n              <font-awesome-icon icon=\"fa-regular fa-calendar-days\" class=\"mr-1\" />\n              <span>{{reviewItem.date | dateFmtROCMMDD}}</span>\n              </div>\n            <div class=\"w-2/12\">\n              <font-awesome-icon icon=\"fa-solid fa-clock-five\" class=\"mr-1\" />\n              <span>{{reviewItem.date | dateFmtHm }}</span>\n            </div>\n            <div class=\"w-3/12 overflow-hidden text-ellipsis whitespace-nowrap\">\n              <font-awesome-icon icon=\"fa-solid fa-user\" class=\"mr-1\" />\n              <span>{{reviewItem.customer.name || '--'}}</span>\n              </div>\n            <div class=\"w-3/12 min-w-[42px]\">\n              <span>{{reviewItem.status}}</span>\n            </div>\n            <div>\n              <font-awesome-icon icon=\"fa-solid fa-angle-right\"/>\n            </div>\n          </div>\n        </div>\n        <div v-else class=\"my-3  pl-2\">目前沒有任何預約</div>\n      </div>\n\n    </section>\n\n  </main>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex';\n\nexport default {\n  name: 'order-index',\n  description: '預約的首頁',\n  metaInfo: {\n    title: 'BeautyOS 設計師',\n    titleTemplate: '%s | 預約',\n  },\n  mounted() {\n    this.init();\n  },\n  data() {\n    return {\n      masks: {\n        weekdays: 'WWW',\n      },\n      isActiveCalendar: true, // 開關月曆\n      searchForm: {\n        keyword: '', // 關鍵字搜尋\n        // isAccurate: false, // false: 精準搜尋模式 ；true 模糊查詢 // 2022/09/12會議後調整\n        isAccurate: true, // false: DESC ；true ASC // 用作顯示過往預約紀錄\n        selectedDate: this.$dayjs(this.$dayjs().format('YYYY-MM-DD')).valueOf(),\n      },\n\n      monthkyOrdersDate: { // 以每月的訂單來放到arrts裡面\n        start: this.$dayjs(new Date()).startOf('month').valueOf(),\n        end: this.$dayjs(new Date()).endOf('month').valueOf(),\n      },\n\n      attrs: [], // 月曆點點 紅點代表有待審核\n\n      reviewResult: [], // 待審核\n      orderResult: [], // 預約成功、設計師已取消、已完成\n\n      selectedAttribute: { // 日曆選定的日期樣式\n        highlight: {\n          style: {\n            background: 'transparent',\n          },\n          fillMode: 'solid',\n        },\n      },\n    };\n  },\n  methods: {\n    async init() {\n      await Promise.all([this.getMonthlyOrders(), this.getOrders()]).then(() => { });\n    },\n    async doInitSearch() {\n      this.searchForm.keyword = '';\n      await this.getOrders();\n    },\n    async getMonthlyOrders() {\n      console.log('getMonthlyOrders');\n      const res = await this.$api.orders({\n        startDate: this.$dayjs(this.monthkyOrdersDate.start).isValid() ? this.$dayjs(this.monthkyOrdersDate.start).valueOf() : '',\n        endDate: this.$dayjs(this.monthkyOrdersDate.end).isValid() ? this.$dayjs(this.monthkyOrdersDate.end).valueOf() : '',\n        employeeId: this.userInfo.user.id,\n        isReserved: true,\n      });\n      const { data, errors } = res.data;\n      if (errors) return {};\n      this.attrs = Array.isArray(data.orders.orders) ? data.orders.orders.flatMap((orderItem) => (orderItem.status === '待審核' ? [\n        {\n          key: `${orderItem.id}`,\n          // dot: {\n          //   color: 'red',\n          //   fillMode: 'solid',\n          // },\n          customData: {\n            class: 'red',\n          },\n          dates: orderItem.date,\n        },\n      ] : [\n        {\n          key: `${orderItem.id}`,\n          // dot: {\n          //   style: {\n          //     background: 'red',\n          //   },\n          //   fillMode: 'solid',\n          // },\n          dates: orderItem.date,\n        },\n      ])) : [];\n      this.$forceUpdate();\n      return res;\n    },\n    async getOrders() {\n      const res = await this.$api.orders({\n        startDate: this.$dayjs(this.searchForm.selectedDate).isValid() ? this.$dayjs(this.searchForm.selectedDate).valueOf() : '',\n        endDate: this.$dayjs(this.searchForm.selectedDate).isValid() ? this.$dayjs(this.searchForm.selectedDate).valueOf() : '',\n        employeeId: this.userInfo.user.id,\n        orderKeyword: {\n          keyword: typeof this.searchForm.keyword === 'string' ? this.searchForm.keyword.toLocaleLowerCase() : this.searchForm.keyword,\n          isFuzzySearch: true, // 因為api跟畫面上是相反的\n        },\n        isReserved: true,\n      });\n      const { data, errors } = res.data;\n      if (errors) return {};\n      this.reviewResult = data.orders.orders.filter((order) => order.status === '待審核');\n      this.orderResult = data.orders.orders.filter((order) => order.status !== '待審核');\n      this.$forceUpdate();\n      return res;\n    },\n    doRoute(item, isReview) {\n      this.$router.push({ name: 'Order-edit', query: { id: item.id, isReview } });\n    },\n    preNextMonth(num) {\n      this.monthkyOrdersDate.start = this.$dayjs(this.$dayjs(this.monthkyOrdersDate.start).add(num, 'month')).startOf('month').format('YYYY-MM-DD');\n      this.monthkyOrdersDate.end = this.$dayjs(this.$dayjs(this.monthkyOrdersDate.end).add(num, 'month')).endOf('month').format('YYYY-MM-DD');\n    },\n    swipeMonth(e) {\n      const y = e.year;\n      const m = e.month - 1;\n      const firstDay = new Date(y, m, 1);\n      const lastDay = new Date(y, m + 1, 0);\n      const starDate = this.$dayjs(firstDay).format('YYYY-MM-DD');\n      const endDate = this.$dayjs(lastDay).format('YYYY-MM-DD');\n\n      this.monthkyOrdersDate.start = starDate;\n      this.monthkyOrdersDate.end = endDate;\n    },\n  },\n  computed: {\n    ...mapState('userInfo', ['userInfo', 'currentMechantId']),\n    ...mapGetters('userInfo', ['GETTER_MECHANTNAME']),\n    isReviewResult() {\n      return this.reviewResult.length;\n    },\n    hasOnlyOrder() {\n      return (attr) => {\n        let status = false;\n        if (Array.isArray(attr) && attr.length === 1) {\n          status = !attr[0].highlight;\n        }\n        if (Array.isArray(attr) && attr.length > 1) {\n          status = true;\n        }\n\n        return status;\n      };\n    },\n    isOrderResult() {\n      return this.orderResult.length;\n    },\n  },\n  watch: {\n    'searchForm.selectedDate': {\n      handler() {\n        if (!this.searchForm.selectedDate) return;\n        this.getOrders();\n      },\n    },\n    monthkyOrdersDate: {\n      deep: true,\n      handler() {\n        this.getMonthlyOrders();\n      },\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// ::v-deep * {outline: 1px solid;}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=559fadf2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=559fadf2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"559fadf2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","GETTER_MECHANTNAME","on","$event","$router","push","name","_v","ref","getOrders","scopedSlots","_u","key","fn","searchForm","keyword","doInitSearch","_e","proxy","model","value","callback","$$v","$set","expression","directives","rawName","isActiveCalendar","selectedAttribute","masks","swipeMonth","year","monthLabel","_s","_f","preNextMonth","day","attributes","class","$dayjs","selectedDate","valueOf","date","hasOnlyOrder","isReviewResult","_l","reviewResult","reviewItem","index","doRoute","customer","status","isOrderResult","orderResult","staticRenderFns","description","metaInfo","title","titleTemplate","mounted","data","weekdays","isAccurate","monthkyOrdersDate","start","end","highlight","style","background","fillMode","methods","console","startDate","endDate","employeeId","isReserved","errors","customData","dates","orderKeyword","isFuzzySearch","query","id","isReview","computed","watch","handler","deep","component"],"sourceRoot":""}