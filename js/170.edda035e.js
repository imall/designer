"use strict";(self["webpackChunkbos_designer"]=self["webpackChunkbos_designer"]||[]).push([[170],{2170:function(t,e,s){s.r(e),s.d(e,{default:function(){return j}});var a=function(){var t=this,e=t._self._c;return e("main",{staticClass:"box-border h-full min-h-[calc(100vh-84px)] w-full pb-[84px]"},[e("C-Back-Nav",{attrs:{title:"客戶資料查詢",routeTarget:{name:"Customer"}}}),e("section",{staticClass:"relative z-0 mt-[52px] p-3"},[e("ul",{staticClass:"scrollnone nav nav-tabs mb-4 flex list-none overflow-x-auto border-b border-solid border-primary pl-0"},[e("li",{class:[""+("UserInfo"===t.seletedTab?"border-b-2 border-solid border-primary":"")],on:{click:function(e){t.seletedTab="UserInfo"},keypress:function(e){t.seletedTab="UserInfo"}}},[e("p",{staticClass:"whitespace-nowrap px-6 py-3 text-xs"},[t._v("個人資料")])]),e("li",{class:[""+("Consumption"===t.seletedTab?"border-b-2 border-solid border-primary":"")],on:{click:function(e){t.seletedTab="Consumption"},keypress:function(e){t.seletedTab="Consumption"}}},[e("p",{staticClass:"whitespace-nowrap px-6 py-3 text-xs"},[t._v("服務紀錄")])]),e("li",{class:[""+("Income"===t.seletedTab?"border-b-2 border-solid border-primary":"")],on:{click:function(e){t.seletedTab="Income"},keypress:function(e){t.seletedTab="Income"}}},[e("p",{staticClass:"whitespace-nowrap px-6 py-3 text-xs"},[t._v("入金紀錄")])]),e("li",{class:[""+("Coupon"===t.seletedTab?"border-b-2 border-solid border-primary":"")],on:{click:function(e){t.seletedTab="Coupon"},keypress:function(e){t.seletedTab="Coupon"}}},[e("p",{staticClass:"whitespace-nowrap px-6 py-3 text-xs"},[t._v("卡券紀錄")])])]),e("keep-alive",[e(t.seletedTab,{tag:"component"})],1)],1)],1)},i=[],r=(s(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"animate__animated animate__fadeIn animate__fast"},[t.resultData?e("div",{staticClass:"px-2"},[e("div",{staticClass:"mt-2 flex border-b border-solid border-primary/50 text-left"},[e("div",{staticClass:"w-1/4"},[t._v("姓名")]),e("div",{staticClass:"w-3/4"},[t._v(t._s(t.resultData.name||"--"))])]),e("div",{staticClass:"mt-2 flex border-b border-solid border-primary/50 text-left"},[e("div",{staticClass:"w-1/4"},[t._v("電話")]),e("div",{staticClass:"w-3/4"},[t._v(t._s(t.resultData.cellphone||"--"))])]),e("div",{staticClass:"mt-2 flex border-b border-solid border-primary/50 text-left"},[e("div",{staticClass:"w-1/4"},[t._v("市話")]),e("div",{staticClass:"w-3/4"},[t._v(t._s(t.resultData.cellphone||"--"))])]),e("div",{staticClass:"mt-2 flex border-b border-solid border-primary/50 text-left"},[e("div",{staticClass:"w-1/4"},[t._v("客戶暱稱")]),e("div",{staticClass:"w-3/4"},[t._v(t._s(t.resultData.nickName||"--"))])]),e("div",{staticClass:"mt-2 flex border-b border-solid border-primary/50 text-left"},[e("div",{staticClass:"w-1/4"},[t._v("性別")]),e("div",{staticClass:"w-3/4"},[t._v(t._s(t.resultData.gender||"--"))])]),e("div",{staticClass:"mt-2 flex border-b border-solid border-primary/50 text-left"},[e("div",{staticClass:"w-1/4"},[t._v("Email")]),e("div",{staticClass:"w-3/4"},[t._v(t._s(t.resultData.email||"--"))])]),e("div",{staticClass:"mt-2 flex border-b border-solid border-primary/50 text-left"},[e("div",{staticClass:"w-1/4"},[t._v("Line ID")]),e("div",{staticClass:"w-3/4"},[t._v(t._s(t.resultData.lineId||"--"))])]),e("div",{staticClass:"mt-2 flex border-b border-solid border-primary/50 text-left"},[e("div",{staticClass:"w-1/4"},[t._v("生日")]),e("div",{staticClass:"w-3/4"},[t._v(t._s(t.resultData.birthday.year&&"0"!==t.resultData.birthday.year?`${t.resultData.birthday.year}/`:"")+t._s(t.resultData.birthday.month&&"0"!==t.resultData.birthday.month?`${t.resultData.birthday.month}/`:"--.")+t._s(t.resultData.birthday.day&&"0"!==t.resultData.birthday.day?t.resultData.birthday.day:"--"))])]),e("div",{staticClass:"mt-2 flex border-b border-solid border-primary/50 text-left"},[e("div",{staticClass:"w-1/4"},[t._v("地址")]),e("div",{staticClass:"w-3/4"},[t._v(t._s(t.resultData.address||"--"))])]),e("div",{staticClass:"mt-2 flex border-b border-solid border-primary/50 text-left"},[e("div",{staticClass:"w-1/4"},[t._v("客戶來源")]),e("div",{staticClass:"w-3/4"},[t._v(t._s(t.resultData.source||"--"))])])]):t._e()])}),o=[],l={name:"customer-component-userInfo",data(){return{resultData:null}},mounted(){this.getCustomer()},methods:{async getCustomer(){const t=await this.$api.customer({id:this.$route.query.id}),{data:e,errors:s}=t.data;s||(this.resultData=e.customer)}}},d=l,n=s(3736),c=(0,n.Z)(d,r,o,!1,null,null,null),u=c.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"animate__animated animate__fadeIn animate__fast"},[t.reviewResult.orders&&0===t.reviewResult.orders.length?e("p",{staticClass:"mt-10 text-sm text-stone-500"},[t._v(" 此客戶尚無服務紀錄 ")]):t._e(),t.reviewResult.orders&&t.reviewResult.orders.length>0?e("h2",{staticClass:"mt-5 mb-3 text-xl font-bold"},[t._v(" 訂單列表 ")]):t._e(),t.reviewResult.orders&&t.reviewResult.orders.length>0?e("ul",{staticClass:"grid gap-4"},t._l(t.reviewResult.orders,(function(s){return e("li",{key:s.id,staticClass:"w-full bg-[#08424c] p-2 text-white"},[e("p",{staticClass:"mb-2 text-xl font-bold"},[t._v(t._s(s.date)+" 訂單編號 "+t._s(s.no))]),e("div",{staticClass:"grid grid-cols-12 gap-2"},[e("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[e("p",[t._v("服務消費")]),e("p",[t._v("$"+t._s(s.serviceFakeTotal))])]),e("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[e("p",[t._v("店販消費")]),e("p",[t._v("$"+t._s(s.productFakeTotal))])]),e("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[e("p",[t._v("卡券使用(入業績)")]),e("p",[t._v("$"+t._s(s.useTicketTotal))])]),e("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[e("p",[t._v("卡券販賣(入業績)")]),e("p",[t._v("$"+t._s(s.ticketSellIntoPerformance))])]),e("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[e("p",[t._v("業績收入")]),e("p",[t._v("$"+t._s(s.performanceIncome))])]),e("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[e("p",[t._v("卡券販賣(不入業績)")]),e("p",[t._v("$"+t._s(s.ticketSellNotIntoPerformance))])]),e("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[e("p",[t._v("卡券使用(-)")]),e("p",[t._v("$"+t._s(s.usedTicketForDecount))])]),e("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[e("p",[t._v("第三方卡券(-)")]),e("p",[t._v("$"+t._s(s.thirdPartTicketForDecount))])]),e("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[e("p",[t._v("其他付款方式(-)")]),e("p",[t._v("$"+t._s(s.otherPayWayForDecount))])]),e("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[e("p",[t._v("入金使用(-)")]),e("p",[t._v("$"+t._s(s.walletUsedForDecount))])]),e("div",{staticClass:"col-span-12 flex justify-between"},[e("p",[t._v("營業現金應收")]),e("p",[t._v("$"+t._s(s.businessCash))])])]),e("ul",{staticClass:"my-2"},[e("li",{staticClass:"flex items-center justify-between bg-black/20 py-3 px-2",on:{click:function(t){s.isOpen=!s.isOpen},keypress:function(t){s.isOpen=!s.isOpen}}},[e("p",{staticClass:"text-lg"},[t._v("詳細資料")]),e("font-awesome-icon",{staticClass:"cursor-pointer text-lg duration-300",class:{"rotate-180":s.isOpen},attrs:{icon:"fa-regular fa-angle-up"}})],1),e("ul",{staticClass:"overflow-hidden bg-black/20 px-2 duration-300",class:{"max-h-[200vh]":s.isOpen,"max-h-[0px]":!s.isOpen}},[e("li",[e("table",{staticClass:"w-full"},[t._m(0,!0),e("tbody",t._l(s.staticDetail,(function(a,i){return e("tr",{key:i,class:{"border-b border-b-white py-1.5":i!==s.staticDetail.length-1}},[e("td",{staticClass:"p-1.5"},[t._v(t._s(a.designerName))]),e("td",{staticClass:"p-1.5"},[t._v(t._s(a.itemName))]),e("td",{staticClass:"p-1.5"},[t._v("$"+t._s(a.price))]),e("td",{staticClass:"p-1.5"},t._l(a.helperList,(function(s,a){return e("p",{key:a},[t._v(" "+t._s(s.helperName)+" ")])})),0)])})),0)])])])])])})),0):t._e()])},p=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("設計師")]),e("th",[t._v("項目")]),e("th",[t._v("價格")]),e("th",[t._v("互助人")])])])}],v={name:"customer-component-consumption",mounted(){this.getOrders()},deactivated(){window.removeEventListener("scroll",this.scrollGetOrders)},activated(){this.isEnd||window.addEventListener("scroll",this.scrollGetOrders)},data(){return{resultList:[],reviewResult:{},submitForm:{pageLimit:10,pageOffset:0},totalPage:0,isEnd:!1,isGetting:!1}},methods:{async getOrders(){const t={customerId:this.$route.query.id?this.$route.query.id:"",pageLimit:this.submitForm.pageLimit,pageOffset:this.submitForm.pageOffset,isReserved:!1},e=await this.$api.designerOrders(t),{data:s}=e.data;s.orders.orders.length>0?s.orders.orders.forEach(((t,e)=>{if(t["isOpen"]=!1,e===s.orders.orders.length-1){let t=s.orders.orders.map((t=>{const e=t.date,s=new Date(e),a=`${s.getFullYear()}/${s.getMonth()+1}/${s.getDate()}`;return t.date=a,t}));s.orders.orders=t,this.reviewResult=s.orders}})):this.reviewResult=s.orders,this.totalPage=Math.ceil(s.orders.totalCount/10)-1,this.isEnd=1===Math.ceil(s.orders.totalCount/10),this.submitForm.pageOffset<this.totalPage&&window.addEventListener("scroll",this.scrollGetOrders)},async scrollGetOrders(){const t=document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement.clientHeight||document.body.clientHeight,s=document.documentElement.scrollHeight||document.body.scrollHeight;if(!this.isEnd&&!this.isGetting&&t+e>=s-50){this.isGetting=!0,this.submitForm.pageOffset+=1,this.submitForm.pageOffset>=this.totalPage&&(this.isEnd=!0,window.removeEventListener("scroll",this.scrollGetOrders));const t={customerId:this.$route.query.id?this.$route.query.id:"",pageLimit:10,pageOffset:this.submitForm.pageOffset},e=await this.$api.designerOrders(t),{data:s}=e.data;this.isGetting=!1,s.orders.orders.length>0&&s.orders.orders.forEach(((t,e)=>{if(t["isOpen"]=!1,e===s.orders.orders.length-1){let t=s.orders.orders.map((t=>{const e=t.date,s=new Date(e),a=`${s.getFullYear()}/${s.getMonth()+1}/${s.getDate()}`;return t.date=a,t}));this.reviewResult.orders=this.reviewResult.orders.concat(t)}}))}}}},h=v,f=(0,n.Z)(h,m,p,!1,null,null,null),b=f.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"animate__animated animate__fadeIn animate__fast"},[e("p",{staticClass:"before:contents-[''] relative my-3 pl-2 text-left before:absolute before:inset-0 before:h-full before:w-1 before:bg-primary"},[t._v("入金餘額")]),e("div",{staticClass:"mt-3 flex items-baseline text-second"},[e("p",{staticClass:"mr-2 pl-2"},[t._v("NT$")]),e("p",{staticClass:"text-[28px]"},[t._v(t._s(t.walletCash))])]),e("div",{staticClass:"my-4 flex gap-2 text-primary"},[e("div",{staticClass:"w-1/2 rounded-xl border border-solid border-primary p-1 duration-500",class:[""+(1===t.seletedTab?"bg-primary text-white":"")],on:{click:function(e){t.seletedTab=1,t.switchAddEventListener()},keypress:function(e){t.seletedTab=1}}},[t._v("入金紀錄")]),e("div",{staticClass:"w-1/2 rounded-xl border border-solid border-primary p-1 duration-500",class:[""+(2===t.seletedTab?"bg-primary text-white":"")],on:{click:function(e){t.seletedTab=2,t.switchAddEventListener()},keypress:function(e){t.seletedTab=2}}},[t._v("入金使用")])]),0===t.resultList.length&&1===t.seletedTab?e("p",{staticClass:"mt-20 text-sm text-stone-500"},[t._v("此客戶尚無入金紀錄")]):t._e(),0===t.resultUseList.length&&2===t.seletedTab?e("p",{staticClass:"mt-20 text-sm text-stone-500"},[t._v("此客戶尚無入金使用紀錄")]):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.seletedTab,expression:"seletedTab === 1"}],staticClass:"animate__animated animate__fadeIn animate__slow"},t._l(t.resultList,(function(s,a){return e("div",{key:`consumption1${a}`,staticClass:"border-b border-solid border-primary/50 px-2 pb-4",class:{hidden:0===t.resultList.length}},[e("div",{staticClass:"mt-2 flex text-left"},[e("div",{staticClass:"w-2/5"},[t._v("日期")]),e("div",{staticClass:"w-3/5"},[t._v(t._s(t.$dayjs(s.date).format("YYYY/MM/DD")))])]),e("div",{staticClass:"mt-2 flex text-left"},[e("div",{staticClass:"w-2/5"},[t._v("入金金額")]),e("div",{staticClass:"w-3/5"},[t._v("$"+t._s(s.money))])]),e("div",{staticClass:"mt-2 flex text-left"},[e("div",{staticClass:"w-2/5"},[t._v("設計師")]),e("div",{staticClass:"w-3/5"},[t._v(t._s(s.Maker.name))])]),e("div",{staticClass:"mt-2 flex text-left"},[e("div",{staticClass:"w-2/5"},[t._v("付款方式")]),e("div",{staticClass:"w-3/5"},[t._v(t._s(s.payType))])]),e("div",{staticClass:"mt-2 flex text-left"},[e("div",{staticClass:"w-2/5"},[t._v("入金儲值手續費")]),e("div",{staticClass:"w-3/5"},[t._v(t._s(s.handlingFeeDecountPrice))])])])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.seletedTab,expression:"seletedTab === 2"}],staticClass:"animate__animated animate__fadeIn animate__slow"},t._l(t.resultUseList,(function(s,a){return e("div",{key:`consumption${a}`,staticClass:"border-b border-solid border-primary/50 px-2 pb-4"},[e("div",{staticClass:"mt-2 flex text-left"},[e("div",{staticClass:"w-2/5"},[t._v("帳單編號")]),e("div",{staticClass:"w-3/5"},[t._v(t._s(s.orderNo))])]),e("div",{staticClass:"mt-2 flex text-left"},[e("div",{staticClass:"w-2/5"},[t._v("帳單時間")]),e("div",{staticClass:"w-3/5"},[t._v(t._s(t.$dayjs(s.date).format("YYYY/MM/DD")))])]),e("div",{staticClass:"mt-2 flex text-left"},[e("div",{staticClass:"w-2/5"},[t._v("設計師")]),e("div",{staticClass:"w-3/5"},[t._v(t._s(s.Designer.name))])]),e("div",{staticClass:"mt-2 flex text-left"},[e("div",{staticClass:"w-2/5"},[t._v("使用金額")]),e("div",{staticClass:"w-3/5"},[t._v("$"+t._s(s.money))])])])})),0)])},w=[],C={name:"customer-component-income",mounted(){this.getWalletDepositRecords(),this.getWallet()},deactivated(){window.removeEventListener("scroll",this.scrollGetAddRecords),window.removeEventListener("scroll",this.scrollGetUseRecords)},activated(){this.addRecordsForm.isEnd||1!==this.seletedTab||window.addEventListener("scroll",this.scrollGetAddRecords),this.usedRecordsForm.isEnd||2!==this.seletedTab||window.addEventListener("scroll",this.scrollGetUseRecords)},data(){return{seletedTab:1,addRecordsForm:{pageOffset:0,totalPage:0,isEnd:!1,isGetting:!1},usedRecordsForm:{pageOffset:0,totalPage:0,isEnd:!1,isGetting:!1},resultList:[],resultUseList:[],walletCash:0}},methods:{switchAddEventListener(){1===this.seletedTab?(window.removeEventListener("scroll",this.scrollGetUseRecords),this.addRecordsForm.isEnd||window.addEventListener("scroll",this.scrollGetAddRecords)):(this.usedRecordsForm.isEnd||0===this.resultUseList.length||window.addEventListener("scroll",this.scrollGetUseRecords),this.usedRecordsForm.isEnd||0!==this.resultUseList.length||this.walletUseRecords(),window.removeEventListener("scroll",this.scrollGetAddRecords))},async getWalletDepositRecords(){if(0===this.resultList.length&&this.addRecordsForm.isEnd)return;const t={customerId:this.$route.query.id?this.$route.query.id:"",pageLimit:10,pageOffset:this.addRecordsForm.pageOffset,payType:[]},e=await this.$api.walletDepositRecord(t),{data:s}=e.data;this.addRecordsForm.totalPage=Math.ceil(s.walletDepositRecord.totalCount/10)-1,this.addRecordsForm.isEnd=1===Math.ceil(s.walletDepositRecord.totalCount/10),this.resultList=s.walletDepositRecord.record,this.addRecordsForm.pageOffset<this.addRecordsForm.totalPage&&window.addEventListener("scroll",this.scrollGetAddRecords)},async scrollGetAddRecords(){const t=document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement.clientHeight||document.body.clientHeight,s=document.documentElement.scrollHeight||document.body.scrollHeight;if(!this.addRecordsForm.isEnd&&!this.addRecordsForm.isGetting&&t+e>=s-50){this.addRecordsForm.isGetting=!0,this.addRecordsForm.pageOffset+=1,this.addRecordsForm.pageOffset>=this.addRecordsForm.totalPage&&(this.addRecordsForm.isEnd=!0,window.removeEventListener("scroll",this.scrollGetAddRecords));const t={customerId:this.$route.query.id?this.$route.query.id:"",pageLimit:10,pageOffset:this.addRecordsForm.pageOffset,payType:[]},e=await this.$api.walletDepositRecord(t),{data:s}=e.data;this.addRecordsForm.isGetting=!1,this.resultList=this.resultList.concat(s.walletDepositRecord.record)}},async walletUseRecords(){if(0===this.resultUseList.length&&this.usedRecordsForm.isEnd)return;const t={customerId:this.$route.query.id?this.$route.query.id:"",pageLimit:10,pageOffset:this.usedRecordsForm.pageOffset,payType:[]},e=await this.$api.walletUseRecord(t),{data:s}=e.data;this.usedRecordsForm.totalPage=Math.ceil(s.walletUseRecord.totalCount/10)-1,this.usedRecordsForm.isEnd=1===Math.ceil(s.walletUseRecord.totalCount/10),this.resultUseList=s.walletUseRecord.record,this.usedRecordsForm.pageOffset<this.usedRecordsForm.totalPage&&window.addEventListener("scroll",this.scrollGetUseRecords)},async scrollGetUseRecords(){const t=document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement.clientHeight||document.body.clientHeight,s=document.documentElement.scrollHeight||document.body.scrollHeight;if(!this.usedRecordsForm.isEnd&&!this.usedRecordsForm.isGetting&&t+e>=s-50){this.usedRecordsForm.isGetting=!0,this.usedRecordsForm.pageOffset+=1,this.usedRecordsForm.pageOffset>=this.usedRecordsForm.totalPage&&(this.usedRecordsForm.isEnd=!0,window.removeEventListener("scroll",this.scrollGetUseRecords));const t={customerId:this.$route.query.id?this.$route.query.id:"",pageLimit:10,pageOffset:this.usedRecordsForm.pageOffset,payType:[]},e=await this.$api.walletUseRecord(t),{data:s}=e.data;this.usedRecordsForm.isGetting=!1,this.resultUseList=this.resultUseList.concat(s.walletUseRecord.record)}},async getWallet(){const t={customerId:this.$route.query.id?this.$route.query.id:""},e=await this.$api.customerWallet(t),{data:s}=e.data;this.walletCash=s.customerWallet}}},g=C,x=(0,n.Z)(g,_,w,!1,null,null,null),y=x.exports,R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"animate__animated animate__fadeIn animate__fast"},[e("div",{staticClass:"animate__animated animate__fadeIn animate__slow"},[t.resultList.length>0?e("div",{attrs:{id:"position"}},t._l(t.resultList,(function(s,a){return e("Ticket",{key:s.couponId,attrs:{id:s.couponId,title:s.couponName,canUse:s.totalCount,used:s.usedCount,price:s.singleCouponPrice,totalPrice:s.totalCount*s.singleCouponPrice,time:s.boughtDate,"data-aos":"zoom-in","data-aos-delay":100*a,"data-aos-duration":"300","data-aos-once":"true","data-aos-anchor":"#position"},on:{openRecord:function(e){return t.handleOpenRecord(e)}}})})),1):e("div",[e("p",[t._v("尚無使用紀錄")])])]),e("C-Modal-Dialog",{attrs:{animationCss:"animate__animated animate__flipInY animate__fast"},model:{value:t.showRecord,callback:function(e){t.showRecord=e},expression:"showRecord"}},[e("h3",{staticClass:"mt-10 text-center font-bold"},[t._v("染髮卡券")]),t.recordDetail.usedCount&&0!==t.recordDetail.usedCount?e("table",{staticClass:"mt-5 w-full text-left text-sm"},[e("thead",{pre:!0},[e("tr",[e("th",{pre:!0,attrs:{class:"text-center"}},[t._v("項次")]),e("th",[t._v("使用日期")]),e("th",{pre:!0,attrs:{class:"text-center"}},[t._v("使用張數")])])]),e("tbody",t._l(t.recordDetail.usageRecord,(function(s,a){return e("tr",{key:a},[e("td",{staticClass:"text-center"},[t._v(t._s(a+1))]),e("td",[t._v(t._s(t.$dayjs(s.usedDate).format("YYYY/MM/DD HH:MM")))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.usageCount))])])})),0)]):t._e(),t.recordDetail.usedCount&&0!==t.recordDetail.usedCount?e("div",{staticClass:"mt-10 grid w-full grid-cols-12 gap-2 text-sm"},[e("div",{pre:!0,attrs:{class:"col-span-9 text-right"}},[t._v("可用次數 :")]),e("div",{staticClass:"col-span-3"},[t._v(t._s(t.recordDetail.totalCount-t.recordDetail.usedCount)+"/"+t._s(t.recordDetail.totalCount))]),e("div",{pre:!0,attrs:{class:"col-span-9 text-right"}},[t._v("總金額 :")]),e("div",{staticClass:"col-span-3"},[t._v("$"+t._s(t.recordDetail.totalCount*t.recordDetail.singleCouponPrice))])]):e("p",{staticClass:"mx-10 mt-10 mb-14 text-center text-stone-500"},[t._v("此卡券尚無使用紀錄")])])],1)},D=[],F=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"mb-2.5 w-full rounded-lg bg-white shadow-[0px_2px_2px_rgba(0,0,0,0.25)]"},[e("div",{staticClass:"grid grid-cols-12"},[e("div",{staticClass:"relative col-span-4 font-bold text-white",class:{"bg-[#FEB401]":t.canUse>0,"bg-[#aeaeae]":0===t.canUse}},[e("div",{staticClass:"absolute top-0 -left-2.5 z-40 h-[calc(100%+20px)] w-2.5"}),e("div",{staticClass:"5 absolute -bottom-2.5 left-0 z-40 h-2 w-2.5"}),e("div",{staticClass:"absolute -left-2.5 -top-2.5 h-5 w-5 rounded-full bg-white"}),e("div",{staticClass:"absolute -left-2.5 -top-2.5 h-5 w-5 translate-y-[26px] rounded-full bg-white"}),e("div",{staticClass:"absolute -left-2.5 -top-2.5 h-5 w-5 translate-y-[52px] rounded-full bg-white"}),e("div",{staticClass:"absolute -left-2.5 -top-2.5 h-5 w-5 translate-y-[78px] rounded-full bg-white"}),e("div",{staticClass:"absolute -left-2.5 -top-2.5 h-5 w-5 translate-y-[104px] rounded-full bg-white"}),e("div",{staticClass:"flex h-full items-center"},[e("div",{staticClass:"flex w-full items-baseline justify-center py-2 px-4"},[e("p",{staticClass:"text-xs"},[t._v("NT$")]),e("p",{staticClass:"text-2xl"},[t._v(t._s(t.price))])])])]),e("div",{staticClass:"col-span-8 p-2 text-left"},[e("h4",{staticClass:"font-bold"},[t._v(t._s(t.title))]),e("p",{staticClass:"mb-1 text-sm text-[#666]"},[t._v("可用次數："+t._s(t.canUse-t.used)+"/"+t._s(t.canUse)+"(總金額:"+t._s(t.totalPrice)+")")]),e("div",{staticClass:"w-full border-b border-b-[#DDD]"}),e("p",{staticClass:"mb-1 text-xs text-[#666]"},[t._v("購買日期："+t._s(t.$dayjs(t.time).format("YYYY/MM/DD")))]),e("div",{staticClass:"flex items-center justify-end gap-1"},[e("font-awesome-icon",{staticClass:"text-xs text-[#57CDFF]",attrs:{icon:"fa-regular fa-circle-info"},on:{click:function(e){return t.openRecord(t.id)},keypress:function(e){return t.openRecord(t.id)}}}),e("span",{staticClass:"text-xs text-[#57CDFF]",on:{click:function(e){return t.openRecord(t.id)},keypress:function(e){return t.openRecord(t.id)}}},[t._v("使用紀錄")])],1)])])])])},$=[],T={name:"Ticket-index",props:{id:{type:String,default:()=>""},title:{type:String,default:()=>""},price:{type:Number,default:()=>0},totalPrice:{type:Number,default:()=>0},canUse:{type:Number,default:()=>0},used:{type:Number,default:()=>0},time:{type:Number,default:()=>0}},methods:{openRecord(t){this.$emit("openRecord",t)}}},E=T,L=(0,n.Z)(E,F,$,!1,null,null,null),k=L.exports,O={name:"customer-component-coupon",components:{Ticket:k},mounted(){this.getCoupons()},data(){return{resultList:[],showRecord:!1,recordDetail:{}}},methods:{handleOpenRecord(t){this.recordDetail=this.resultList.find((e=>e.couponId===t)),this.showRecord=!0},async getCoupons(){const t=await this.$api.customerCouponBalanceReport(this.$route.query.id),{data:e}=t;this.resultList=e.data.customerCouponBalanceReport[0]?e.data.customerCouponBalanceReport[0].data:[]}}},I=O,U=(0,n.Z)(I,R,D,!1,null,null,null),G=U.exports,P={name:"customer-userInfo",description:"客戶資料查詢的個人資料頁",metaInfo:{title:"BeautyOS 設計師",titleTemplate:"%s | 客戶資料查詢"},components:{Consumption:b,Coupon:G,Income:y,UserInfo:u},data(){return{seletedTab:"UserInfo",items:[{name:"個人資料",componentId:"UserInfo"},{name:"服務紀錄",componentId:"Consumption"},{name:"入金紀錄",componentId:"Income"},{name:"卡券紀錄",componentId:"Coupon"}]}},methods:{doRoute(t){this.$router.push({name:t})}},computed:{}},M=P,Y=(0,n.Z)(M,a,i,!1,null,"4ff1ce53",null),j=Y.exports}}]);
//# sourceMappingURL=170.edda035e.js.map