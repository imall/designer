{"version":3,"file":"js/369.ff8c62f5.js","mappings":"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","sources":["webpack://bos-designer/./src/views/Home/priceList/index.vue","webpack://bos-designer/src/views/Home/priceList/index.vue","webpack://bos-designer/./src/views/Home/priceList/index.vue?c585","webpack://bos-designer/./src/views/Home/priceList/index.vue?67ac"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('main',{staticClass:\"box-border h-full min-h-[calc(100vh-84px)] w-full pb-[84px]\"},[_c('C-Back-Nav',{attrs:{\"title\":'價目表'}}),_c('section',{staticClass:\"relative z-0 mt-[52px] p-3\"},[_c('ul',[_c('C-Draggable',{staticClass:\"list-group scrollnone nav nav-tabs mb-4 flex list-none overflow-x-auto border-b border-solid border-primary pl-0\",attrs:{\"handle\":\".moveable\",\"disabled\":!_vm.enabled,\"ghost-class\":\"ghost\"},on:{\"change\":_vm.bookingItemCategoryMove,\"start\":function($event){_vm.dragging = true},\"end\":function($event){_vm.dragging = false}},model:{value:(_vm.BookingItemCategory),callback:function ($$v) {_vm.BookingItemCategory=$$v},expression:\"BookingItemCategory\"}},[_vm._l((_vm.BookingItemCategory),function(category){return _c('li',{key:category.id,class:[\n            `${_vm.seletedTab === category.id ? 'border-b-2 border-solid border-primary' : ''}`,\n          ],on:{\"click\":function($event){return _vm.handleCategory(category.id)},\"keypress\":function($event){return _vm.handleCategory(category.id)}}},[_c('p',{staticClass:\"whitespace-nowrap p-3 text-base\"},[_c('font-awesome-icon',{staticClass:\"moveable inline-block w-[20px]\",attrs:{\"icon\":\"fa-solid fa-grip-dots-vertical\"}}),_vm._v(\" \"+_vm._s(category.name)+\" \"),_c('font-awesome-icon',{staticClass:\"ml-1\",attrs:{\"icon\":\"fa-regular fa-pencil\"},on:{\"click\":function($event){return _vm.updateBookingItemCategory(category)}}})],1)])}),_c('li',[_c('p',{staticClass:\"whitespace-nowrap p-3 text-base\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"fa-regular fa-circle-plus\"},on:{\"click\":function($event){return _vm.createBookingItemCategory()}}})],1)])],2)],1),(_vm.BookingItemCategory.length!==0)?[_c('div',{staticClass:\"animate__animated animate__fadeIn animate__fast\"},[_vm._m(0),_c('div',{staticClass:\"px-2\"},[_c('div',{staticClass:\"mt-1 flex items-center border-b border-solid border-primary/50 text-left\"},[_c('div',{staticClass:\"w-3/12\"},[_c('C-Checkbox-Full',{attrs:{\"label\":\"全選\"},model:{value:(_vm.isSelectAll),callback:function ($$v) {_vm.isSelectAll=$$v},expression:\"isSelectAll\"}})],1),_c('div',{staticClass:\"w-2/12 mr-2\"},[_c('div',{on:{\"click\":function($event){return _vm.createBookingItem()},\"keypress\":function($event){return _vm.createBookingItem()}}},[_c('font-awesome-icon',{staticClass:\"text-lg\",attrs:{\"icon\":\"fa-regular fa-circle-plus\"}}),_vm._v(\" 新增 \")],1)]),_c('div',{staticClass:\"w-2/12 mr-2\"},[_c('div',{on:{\"click\":function($event){return _vm.deleteBookingItem(_vm.resultList)},\"keypress\":function($event){return _vm.deleteBookingItem(_vm.resultList)}}},[_c('font-awesome-icon',{staticClass:\"text-lg\",attrs:{\"icon\":\"fa-solid fa-trash-can\"}}),_vm._v(\" 刪除 \")],1)]),_c('div',{staticClass:\"w-2/12 mr-2\"},[_c('div',{on:{\"click\":function($event){return _vm.changeBookingItemUsing(_vm.resultList, true)},\"keypress\":function($event){return _vm.changeBookingItemUsing(_vm.resultList, true)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"fa-solid fa-up-from-bracket\"}}),_vm._v(\" 上架 \")],1)]),_c('div',{staticClass:\"w-2/12 mr-2\"},[_c('div',{on:{\"click\":function($event){return _vm.changeBookingItemUsing(_vm.resultList, false)},\"keypress\":function($event){return _vm.changeBookingItemUsing(_vm.resultList, false)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"fa-solid fa-down-to-bracket\"}}),_vm._v(\" 下架 \")],1)])]),_c('C-Draggable',{staticClass:\"list-group\",attrs:{\"handle\":\".moveable\",\"list\":_vm.resultList,\"disabled\":!_vm.enabled,\"ghost-class\":\"ghost\"},on:{\"change\":_vm.bookingItemMove,\"start\":function($event){_vm.dragging = true},\"end\":function($event){_vm.dragging = false}}},_vm._l((_vm.resultList),function(item){return _c('div',{key:item.id,staticClass:\"mt-2 flex items-center gap-2 border-b border-solid border-primary/50 text-left\"},[_c('div',{staticClass:\"w-2/12\"},[_c('C-Checkbox-Full',{model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}})],1),_c('div',{staticClass:\"w-5/12\",class:[`${item.isUsing ? '' : 'text-slate-400'}`]},[_c('span',[_vm._v(_vm._s(item.isUsing ? \"\" : \"(下架)\")+\" \"+_vm._s(item.name))])]),_c('div',{staticClass:\"w-6/12 text-right\",class:[`${item.isUsing ? '' : 'text-slate-400'}`]},[_c('span',[_vm._v(\"$\"+_vm._s(item.showPrice))])]),_c('div',{staticClass:\"w-1/12 text-center\",on:{\"click\":function($event){return _vm.deleteSingleBookingItem(item)},\"keypress\":function($event){return _vm.deleteSingleBookingItem(item)}}},[_c('font-awesome-icon',{staticClass:\"text-lg\",attrs:{\"icon\":\"fa-solid fa-trash-can\"}})],1),_c('div',{staticClass:\"w-1/12 text-center\",on:{\"click\":function($event){return _vm.updateBookingItem(item)},\"keypress\":function($event){return _vm.updateBookingItem(item)}}},[_c('font-awesome-icon',{staticClass:\"text-lg\",attrs:{\"icon\":\"fa-regular fa-pencil\"}})],1),_c('div',{staticClass:\"moveable text-center w-1/12\"},[_c('font-awesome-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"fa-solid fa-grip-dots-vertical\"}})],1)])}),0)],1),(_vm.resultList.length === 0)?_c('p',{staticClass:\"py-2\"},[_vm._v(\" 點擊\"),_c('font-awesome-icon',{staticClass:\"mx-1\",attrs:{\"icon\":\"fa-regular fa-circle-plus\"}}),_vm._v(\"新增項目 \")],1):_c('p',{staticClass:\"py-2\"},[_vm._v(\" 拖曳\"),_c('font-awesome-icon',{staticClass:\"mx-1\",attrs:{\"icon\":\"fa-solid fa-grip-dots-vertical\"}}),_vm._v(\"符號變更順序 \")],1)])]:[_c('div',[(_vm.resultList.length === 0)?_c('p',{staticClass:\"py-2\"},[_vm._v(\" 點擊\"),_c('font-awesome-icon',{staticClass:\"mx-1\",attrs:{\"icon\":\"fa-regular fa-circle-plus\"}}),_vm._v(\"新增項目類別 \")],1):_vm._e()])]],2)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"px-2\"},[_c('div',{staticClass:\"mt-2 flex border-b border-solid border-primary/50 text-left\"},[_c('div',{staticClass:\"w-9/12\"},[_vm._v(\"服務／產品名稱\")]),_c('div',{staticClass:\"w-3/12\"},[_vm._v(\"售價\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <main class=\"box-border h-full min-h-[calc(100vh-84px)] w-full pb-[84px]\">\n    <C-Back-Nav :title=\"'價目表'\"></C-Back-Nav>\n    <section class=\"relative z-0 mt-[52px] p-3\">\n      <ul>\n        <C-Draggable\n          handle=\".moveable\"\n          v-model=\"BookingItemCategory\"\n          :disabled=\"!enabled\"\n          class=\"list-group scrollnone nav nav-tabs mb-4 flex list-none overflow-x-auto border-b border-solid border-primary pl-0\"\n          ghost-class=\"ghost\"\n          @change=\"bookingItemCategoryMove\"\n          @start=\"dragging = true\"\n          @end=\"dragging = false\"\n        >\n          <li\n            v-for=\"category in BookingItemCategory\"\n            :key=\"category.id\"\n            :class=\"[\n              `${seletedTab === category.id ? 'border-b-2 border-solid border-primary' : ''}`,\n            ]\"\n            @click=\"handleCategory(category.id)\"\n            @keypress=\"handleCategory(category.id)\"\n          >\n            <p class=\"whitespace-nowrap p-3 text-base\">\n              <font-awesome-icon\n                icon=\"fa-solid fa-grip-dots-vertical\"\n                class=\"moveable inline-block w-[20px]\"\n              />\n              {{ category.name }}\n              <font-awesome-icon\n                icon=\"fa-regular fa-pencil\"\n                class=\"ml-1\"\n                @click=\"updateBookingItemCategory(category)\"\n              />\n            </p>\n          </li>\n          <li>\n            <p class=\"whitespace-nowrap p-3 text-base\">\n              <font-awesome-icon\n                icon=\"fa-regular fa-circle-plus\"\n                @click=\"createBookingItemCategory()\"\n              />\n            </p>\n          </li>\n        </C-Draggable>\n      </ul>\n      <!-- -------------------------------- -->\n      <template v-if=\"BookingItemCategory.length!==0\">\n          <div class=\"animate__animated animate__fadeIn animate__fast\">\n        <div class=\"px-2\">\n          <div class=\"mt-2 flex border-b border-solid border-primary/50 text-left\">\n            <div class=\"w-9/12\">服務／產品名稱</div>\n            <div class=\"w-3/12\">售價</div>\n          </div>\n        </div>\n        <div class=\"px-2\">\n          <div class=\"mt-1 flex items-center border-b border-solid border-primary/50 text-left\">\n            <div class=\"w-3/12\">\n              <C-Checkbox-Full v-model=\"isSelectAll\" label=\"全選\"></C-Checkbox-Full>\n            </div>\n            <div class=\"w-2/12 mr-2\">\n              <div @click=\"createBookingItem()\" @keypress=\"createBookingItem()\">\n                <font-awesome-icon icon=\"fa-regular fa-circle-plus\" class=\"text-lg\" />\n                新增\n              </div>\n            </div>\n            <div class=\"w-2/12 mr-2\">\n              <div @click=\"deleteBookingItem(resultList)\" @keypress=\"deleteBookingItem(resultList)\">\n                <font-awesome-icon icon=\"fa-solid fa-trash-can\" class=\"text-lg\" />\n                刪除\n              </div>\n            </div>\n            <div class=\"w-2/12 mr-2\">\n              <div\n                @click=\"changeBookingItemUsing(resultList, true)\"\n                @keypress=\"changeBookingItemUsing(resultList, true)\"\n              >\n                <font-awesome-icon icon=\"fa-solid fa-up-from-bracket\" /> 上架\n              </div>\n            </div>\n            <div class=\"w-2/12 mr-2\">\n              <div\n                @click=\"changeBookingItemUsing(resultList, false)\"\n                @keypress=\"changeBookingItemUsing(resultList, false)\"\n              >\n                <font-awesome-icon icon=\"fa-solid fa-down-to-bracket\" /> 下架\n              </div>\n            </div>\n          </div>\n          <!-- -------------------------------- -->\n\n          <C-Draggable\n            handle=\".moveable\"\n            :list=\"resultList\"\n            :disabled=\"!enabled\"\n            class=\"list-group\"\n            ghost-class=\"ghost\"\n            @change=\"bookingItemMove\"\n            @start=\"dragging = true\"\n            @end=\"dragging = false\"\n          >\n            <div\n              class=\"mt-2 flex items-center gap-2 border-b border-solid border-primary/50 text-left\"\n              v-for=\"item in resultList\"\n              :key=\"item.id\"\n            >\n              <div class=\"w-2/12\">\n                <C-Checkbox-Full v-model=\"item.checked\"></C-Checkbox-Full>\n              </div>\n\n              <div class=\"w-5/12\" :class=\"[`${item.isUsing ? '' : 'text-slate-400'}`]\">\n                <span>{{ item.isUsing ? \"\" : \"(下架)\" }} {{ item.name }}</span>\n              </div>\n              <div class=\"w-6/12 text-right\" :class=\"[`${item.isUsing ? '' : 'text-slate-400'}`]\">\n                <span>${{ item.showPrice }}</span>\n              </div>\n              <div\n                class=\"w-1/12 text-center\"\n                @click=\"deleteSingleBookingItem(item)\"\n                @keypress=\"deleteSingleBookingItem(item)\"\n              >\n                <font-awesome-icon class=\"text-lg \" icon=\"fa-solid fa-trash-can\" />\n              </div>\n              <div\n                class=\"w-1/12 text-center\"\n                @click=\"updateBookingItem(item)\"\n                @keypress=\"updateBookingItem(item)\"\n              >\n                <font-awesome-icon class=\"text-lg\" icon=\"fa-regular fa-pencil\" />\n              </div>\n              <div class=\"moveable text-center w-1/12\">\n                <font-awesome-icon icon=\"fa-solid fa-grip-dots-vertical\" class=\"mr-1\" />\n              </div>\n            </div>\n          </C-Draggable>\n        </div>\n        <p class=\"py-2\" v-if=\"resultList.length === 0\">\n          點擊<font-awesome-icon icon=\"fa-regular fa-circle-plus\" class=\"mx-1\" />新增項目\n        </p>\n        <p class=\"py-2\" v-else>\n          拖曳<font-awesome-icon icon=\"fa-solid fa-grip-dots-vertical\" class=\"mx-1\" />符號變更順序\n        </p>\n      </div>\n      </template>\n      <template v-else>\n        <div>\n          <p class=\"py-2\" v-if=\"resultList.length === 0\">\n          點擊<font-awesome-icon icon=\"fa-regular fa-circle-plus\" class=\"mx-1\" />新增項目類別\n        </p>\n        </div>\n      </template>\n\n    </section>\n  </main>\n</template>\n\n<script>\n\nexport default {\n  name: 'priceList-index',\n  description: '價目表的首頁',\n  metaInfo: {\n    title: 'BeautyOS 設計師',\n    titleTemplate: '%s | 價目表',\n  },\n\n  data() {\n    return {\n      isSelectAll: false,\n      enabled: true,\n      seletedTab: '',\n      BookingItemCategory: [],\n      resultList: [],\n    };\n  },\n  mounted() {\n    this.getBookingItemCategory();\n  },\n  methods: {\n    // 取得所有項目清單\n    async getBookingItemCategory(seletedTab, mxSort) {\n      const resp = await this.$api.getBookingItemCategory();\n      const { data, errors } = resp.data;\n      if (errors) return;\n      this.BookingItemCategory = data.getBookingItemCategory;\n      if (data.getBookingItemCategory.length === 0) return;\n      const minSort = Math.min(...this.BookingItemCategory.map((p) => p.sort));\n      const maxSort = mxSort ? Math.max(...this.BookingItemCategory.map((p) => p.sort)) : null;\n      this.seletedTab = seletedTab || this.BookingItemCategory.filter((item) => (maxSort ? item.sort === maxSort : item.sort === minSort))[0].id;\n\n      const { bookingItem } = this.seletedTab\n        ? this.BookingItemCategory.filter((item) => item.id === this.seletedTab)[0]\n        : this.BookingItemCategory.filter((item) => item.sort === 0)[0];\n      this.handleBookingItem(bookingItem, false);\n    },\n    // 新增類別\n    async createBookingItemCategory() {\n      this.$swal\n        .fire({\n          title: '新增項目類別',\n          input: 'text',\n          confirmButtonText: '新增',\n          cancelButtonText: '取消',\n          showConfirmButton: true,\n          showCancelButton: true,\n          showCloseButton: true,\n\n          customClass: {\n            input: '!w-[50%] !m-auto !text-center',\n            title: '!pb-5',\n          },\n          preConfirm: (input) => {\n            if (input === '') this.$swal.showValidationMessage('請輸入名稱');\n          },\n        })\n        .then(async (res) => {\n          if (res.isDismissed) return '';\n          if (res.isConfirmed) {\n            const input = {\n              name: res.value,\n            };\n            const resp = await this.$api.createBookingItemCategory(input);\n            const { data, errors } = resp.data;\n            if (errors) return '';\n            if (data.createBookingItemCategory) {\n              await this.getBookingItemCategory('', true);\n              this.$swal.fire({\n                icon: 'success',\n                title: '編輯成功',\n                showConfirmButton: false,\n                showCloseButton: true,\n                timer: 3000,\n                timerProgressBar: true,\n              });\n            }\n          }\n          return '';\n        });\n    },\n    // 更新預約項目類別 (刪除類別也在這)\n    async updateBookingItemCategory(category) {\n      if (category.id !== this.seletedTab) return;\n      this.$swal\n        .fire({\n          title: '編輯或刪除項目',\n          input: 'text',\n          inputValue: category.name,\n          confirmButtonText: '儲存編輯',\n          cancelButtonText: '取消',\n          denyButtonText: '刪除項目',\n          showConfirmButton: true,\n          showCancelButton: true,\n          showDenyButton: true,\n          showCloseButton: true,\n          customClass: {\n            input: '!w-[50%] !m-auto !text-center',\n            title: '!pb-5',\n          },\n          preConfirm: (input) => {\n            if (input === '') this.$swal.showValidationMessage('請輸入名稱');\n          },\n        })\n        .then(async (res) => {\n          // 編輯\n          // 刪除\n          if (res.isDenied) {\n            this.$swal\n              .fire({\n                icon: 'warning',\n                html: '<p class=\"py-3 text-lg\">確定要刪除項目嗎？</p>',\n                showConfirmButton: true,\n                showCloseButton: true,\n                showCancelButton: true,\n                confirmButtonText: '確定',\n                cancelButtonText: '取消',\n              })\n              .then(async (rs) => {\n                if (rs.isConfirmed) {\n                  // 打刪除API\n                  const input = {\n                    bookingItemCategoryId: category.id,\n                  };\n                  const resp = await this.$api.deleteBookingItemCategory(input);\n                  const { data, errors } = resp.data;\n                  if (errors) return;\n\n                  if (data.deleteBookingItemCategory) {\n                    await this.getBookingItemCategory('', false);\n                    this.$swal.fire({\n                      icon: 'success',\n                      title: '刪除成功',\n                      showConfirmButton: false,\n                      showCloseButton: true,\n                      timer: 3000,\n                      timerProgressBar: true,\n                    });\n                  }\n                }\n              });\n          }\n\n          if (res.isConfirmed) {\n            const submit = {\n              input: {\n                bookingItemCategoryId: category.id,\n                name: res.value,\n              },\n            };\n            const resp = await this.$api.updateBookingItemCategory(submit);\n            const { data, errors } = resp.data;\n            if (errors) return '';\n            if (data.updateBookingItemCategory) {\n              await this.getBookingItemCategory(this.seletedTab, false);\n              this.$swal.fire({\n                icon: 'success',\n                title: '編輯成功',\n                showConfirmButton: false,\n                showCloseButton: true,\n                timer: 3000,\n                timerProgressBar: true,\n              });\n            }\n          }\n          return '';\n        });\n    },\n    // 新增預約項目\n    async createBookingItem() {\n      // 新增預約項目\n\n      const { value: formValues } = await this.$swal.fire({\n        title: '新增項目',\n        html: `\n                <style>\n            #up{\n                margin-right: -10px;\n            }\n            .hightest-price {\n                display: none;\n            }\n\n            #isHighestPrice:checked~.hightest-price {\n                display: block;\n            }\n        </style>\n <div class=\"my-2\">\n            <label class=\"w-4/12 inline-block\" for=\"name\">項目名稱 <sup class=\"text-red-500\">*</sup></label>\n            <input id=\"name\" class=\" w-7/12 rounded border p-2\" placeholder=\"請輸入項目名稱\"  />\n        </div>\n        <div class=\"my-2\">\n            <label class=\"w-4/12 inline-block\" for=\"lowestPrice\">最低價 <sup class=\"text-red-500\">*</sup></label>\n            <input id=\"lowestPrice\" class=\"w-4/12 rounded border p-2\" placeholder=\"請輸入最低價\"  />\n            <input type=\"checkbox\" id=\"up\" class=\"w-1/12 rounded border p-2 my-2\" />\n            <label class=\"w-2/12 inline-block my-2\" for=\"up\">元起</label>\n        </div>\n        <div class=\"my-2 pb-5\">\n            <input type=\"checkbox\" id=\"isHighestPrice\" class=\"w-1/12 rounded border p-2 my-2\" />\n            <label class=\"w-4/12 inline-block my-2\" for=\"isHighestPrice\">輸入最高價</label>\n            <br>\n            <div class=\"hightest-price\">\n                <label class=\"w-4/12 inline-block\" for=\"highestPrice\">最高價</label>\n                <input id=\"highestPrice\" class=\" w-7/12 rounded border p-2\" placeholder=\"請輸入最高價\"  />\n            </div>\n        </div>\n        `,\n        focusConfirm: false,\n        confirmButtonText: '儲存編輯',\n        cancelButtonText: '取消',\n        showCancelButton: true,\n        preConfirm: () => {\n          const name = document.getElementById('name').value;\n          const lowestPrice = document.getElementById('lowestPrice').value;\n          let highestPrice = document.getElementById('highestPrice').value;\n          const showHighestPrice = document.getElementById('isHighestPrice').checked;\n          const isUp = document.getElementById('up').checked;\n          if (!showHighestPrice && highestPrice !== '') highestPrice = '';\n          this.examInput(name, lowestPrice, highestPrice);\n          if (highestPrice === '' && !isUp) {\n            return {\n              name,\n              lowestPrice,\n              highestPrice: lowestPrice,\n            };\n          }\n          return {\n            name,\n            lowestPrice,\n            highestPrice,\n          };\n        },\n      });\n\n      if (formValues) {\n        const highestPrice = formValues.highestPrice === '' ? null : +formValues.highestPrice;\n        const submit = {\n          input: {\n            bookingItemCategoryId: this.seletedTab,\n            name: formValues.name,\n            lowestPrice: +formValues.lowestPrice,\n            highestPrice,\n          },\n        };\n        const resp = await this.$api.createBookingItem(submit);\n        const { data, errors } = resp.data;\n        if (errors) return '';\n        if (data.createBookingItem) {\n          await this.getBookingItemCategory(this.seletedTab, false);\n          this.$swal.fire({\n            icon: 'success',\n            title: '新增成功',\n            showConfirmButton: false,\n            showCloseButton: true,\n            timer: 3000,\n            timerProgressBar: true,\n          });\n        }\n\n        return '';\n      }\n      return '';\n    },\n\n    // 修改單一預約項目\n    async updateBookingItem(bookingItem) {\n      let { name } = bookingItem;\n      let { lowestPrice } = bookingItem;\n      let highestPrice = bookingItem.highestPrice ? bookingItem.highestPrice : '';\n      let isUsing = bookingItem.isUsing ? 'checked' : '';\n      let showHighestPrice = bookingItem.highestPrice === null\n        || bookingItem.highestPrice === ''\n        || bookingItem.highestPrice === bookingItem.lowestPrice\n        ? ''\n        : 'checked';\n      let isUp = bookingItem.highestPrice === null || bookingItem.highestPrice === '' ? 'checked' : '';\n      const { value: formValues } = await this.$swal.fire({\n        title: '編輯項目',\n        html: `\n        <style>\n            #up{\n                margin-right: -10px;\n            }\n            .hightest-price {\n                display: none;\n            }\n\n            #isHighestPrice:checked~.hightest-price {\n                display: block;\n            }\n        </style>\n        <div class=\"my-2\">\n            <label class=\"w-4/12 inline-block\" for=\"name\">項目名稱 <sup class=\"text-red-500\">*</sup></label>\n            <input id=\"name\" class=\" w-7/12 rounded border p-2\" placeholder=\"請輸入項目名稱\" value=\"${name}\" />\n        </div>\n        <div class=\"my-2\">\n            <label class=\"w-4/12 inline-block\" for=\"lowestPrice\">最低價 <sup class=\"text-red-500\">*</sup></label>\n            <input id=\"lowestPrice\" class=\"w-4/12 rounded border p-2\" placeholder=\"請輸入最低價\" value=\"${lowestPrice}\" />\n            <input type=\"checkbox\" id=\"up\" class=\"w-1/12 rounded border p-2 my-2\" ${isUp} />\n            <label class=\"w-2/12 inline-block my-2\" for=\"up\">元起</label>\n        </div>\n        <div class=\"my-2 \">\n            <input type=\"checkbox\" id=\"isHighestPrice\" class=\"w-1/12 rounded border p-2 my-2\"  ${showHighestPrice}/>\n            <label class=\"w-4/12 inline-block my-2 text-left\" for=\"isHighestPrice\">輸入最高價</label>\n            <br>\n            <div class=\"hightest-price\">\n                <label class=\"w-4/12 inline-block\" for=\"highestPrice\">最高價</label>\n                <input id=\"highestPrice\" class=\" w-7/12 rounded border p-2\" placeholder=\"請輸入最高價\" value=\"${highestPrice}\" />\n            </div>\n        </div>\n        <div class=\"my-2\">\n            <input type=\"checkbox\" id=\"isUsing\" class=\"w-1/12 rounded border p-2\" ${isUsing} />\n            <label class=\"w-4/12 inline-block text-left\" for=\"isUsing\">上架</label>\n        </div>\n        `,\n        confirmButtonText: '儲存編輯',\n        cancelButtonText: '取消',\n        showConfirmButton: true,\n        showCancelButton: true,\n        showCloseButton: true,\n        customClass: {\n          input: '!w-[50%] !m-auto !text-center',\n          title: '!pb-5',\n        },\n        preConfirm: () => {\n          name = document.getElementById('name').value;\n          lowestPrice = document.getElementById('lowestPrice').value;\n          highestPrice = document.getElementById('highestPrice').value;\n          isUsing = document.getElementById('isUsing').checked;\n          showHighestPrice = document.getElementById('isHighestPrice').checked;\n          isUp = document.getElementById('up').checked;\n          // 如果沒勾 顯示最高價 ，但最高價有值，清掉最高價\n          if (!showHighestPrice && highestPrice !== '') highestPrice = '';\n          this.examInput(name, lowestPrice, highestPrice);\n\n          if (highestPrice === '' && !isUp) {\n            return {\n              name,\n              lowestPrice,\n              highestPrice: lowestPrice,\n              isUsing,\n            };\n          }\n          return {\n            name,\n            lowestPrice,\n            highestPrice,\n            isUsing,\n          };\n        },\n      });\n      if (formValues) {\n        highestPrice = formValues.highestPrice === '' ? null : +formValues.highestPrice;\n        const submit = {\n          input: {\n            bookingItemId: bookingItem.id,\n            name: formValues.name,\n            lowestPrice: +formValues.lowestPrice,\n            highestPrice,\n            bookingItemCategoryId: this.seletedTab,\n            isUsing: formValues.isUsing,\n          },\n        };\n        const resp = await this.$api.updateBookingItem(submit);\n        const { data, errors } = resp.data;\n        if (errors) return '';\n        if (data.updateBookingItem) {\n          await this.getBookingItemCategory(this.seletedTab, false);\n          this.$swal.fire({\n            icon: 'success',\n            title: '編輯成功',\n            showConfirmButton: false,\n            showCloseButton: true,\n            timer: 3000,\n            timerProgressBar: true,\n          });\n        }\n      }\n      return '';\n    },\n    // 刪除單一項目\n    deleteSingleBookingItem(item) {\n      this.$swal\n        .fire({\n          icon: 'warning',\n          html: '<p class=\"py-3 text-lg\">確定要刪除項目嗎？</p>',\n          confirmButtonText: '確認刪除',\n          showConfirmButton: true,\n          showCloseButton: true,\n          customClass: {\n            confirmButton: '!w-[144px] !rounded !bg-second !px-[14px] !py-2 !text-sm !text-white',\n          },\n        })\n        .then(async (res) => {\n          if (res.isConfirmed) {\n            const deleteBookingItemID = item.id;\n            // 打刪除API\n            const input = {\n              bookingItemId: deleteBookingItemID,\n            };\n            const resp = await this.$api.deleteBookingItem(input);\n            const { data, errors } = resp.data;\n            if (errors) return;\n\n            if (data.deleteBookingItem) {\n              await this.getBookingItemCategory(this.seletedTab, false);\n              this.$swal.fire({\n                icon: 'success',\n                title: '刪除成功',\n                showConfirmButton: false,\n                showCloseButton: true,\n                timer: 3000,\n                timerProgressBar: true,\n              });\n            }\n          }\n        });\n    },\n    // 刪除多個項目\n    deleteBookingItem(bookingItem) {\n      const checkItem = bookingItem.filter((itm) => itm.checked === true);\n      if (checkItem.length === 0) {\n        this.$swal.fire({\n          icon: 'warning',\n          html: '<p class=\"py-3 text-lg\">請至少勾選一個項目</p>',\n          showConfirmButton: false,\n          showCloseButton: true,\n          timer: 1500,\n          timerProgressBar: true,\n        });\n        return;\n      }\n\n      this.$swal\n        .fire({\n          icon: 'warning',\n          html: '<p class=\"py-3 text-lg\">確定要刪除項目嗎？</p>',\n          confirmButtonText: '確認刪除',\n          showConfirmButton: true,\n          showCloseButton: true,\n          customClass: {\n            confirmButton: '!w-[144px] !rounded !bg-second !px-[14px] !py-2 !text-sm !text-white',\n          },\n        })\n        .then(async (res) => {\n          if (res.isConfirmed) {\n            const deleteBookingItemID = this.resultList\n              .filter((el) => el.checked === true)\n              .map((el) => el.id);\n            // 打刪除API\n            const input = {\n              bookingItemId: deleteBookingItemID,\n            };\n            const resp = await this.$api.deleteBookingItem(input);\n            const { data, errors } = resp.data;\n            if (errors) return;\n\n            if (data.deleteBookingItem) {\n              await this.getBookingItemCategory(this.seletedTab, false);\n              this.$swal.fire({\n                icon: 'success',\n                title: '刪除成功',\n                showConfirmButton: false,\n                showCloseButton: true,\n                timer: 3000,\n                timerProgressBar: true,\n              });\n            }\n            this.$swal.fire({\n              icon: 'success',\n              html: '<p class=\"py-3 text-lg\">刪除成功</p>',\n              showConfirmButton: false,\n              showCloseButton: true,\n              timer: 2000,\n              timerProgressBar: true,\n            });\n            this.isSelectAll = false;\n          }\n        });\n    },\n    // 上架/下架項目\n    async changeBookingItemUsing(bookingItem, using) {\n      const checkItem = bookingItem.filter((itm) => itm.checked === true);\n      if (checkItem.length === 0) {\n        this.$swal.fire({\n          icon: 'warning',\n          html: '<p class=\"py-3 text-lg\">請至少勾選一個項目</p>',\n          showConfirmButton: false,\n          showCloseButton: true,\n          timer: 1500,\n          timerProgressBar: true,\n        });\n        return;\n      }\n      this.$swal\n        .fire({\n          icon: 'warning',\n          html: `<p class=\"py-3 text-lg\">確定要${using ? '上架' : '下架'}勾選的項目嗎？</p>`,\n          confirmButtonText: '確認',\n          showConfirmButton: true,\n          showCloseButton: true,\n          customClass: {\n            confirmButton: '!w-[144px] !rounded !bg-second !px-[14px] !py-2 !text-sm !text-white',\n          },\n        })\n        .then(async (res) => {\n          if (res.isConfirmed) {\n            const input = checkItem.map((itm) => ({\n              bookingItemId: itm.id,\n              name: itm.name,\n              lowestPrice: itm.lowestPrice,\n              highestPrice: itm.highestPrice,\n              bookingItemCategoryId: itm.bookingItemCategoryId,\n              isUsing: using,\n            }));\n\n            const submit = { input };\n            const resp = await this.$api.updateBookingItem(submit);\n            const { data, errors } = resp.data;\n            if (errors) return '';\n            if (data.updateBookingItem) {\n              await this.getBookingItemCategory(this.seletedTab, false);\n              this.$swal.fire({\n                icon: 'success',\n                title: '編輯成功',\n                showConfirmButton: false,\n                showCloseButton: true,\n                timer: 3000,\n                timerProgressBar: true,\n              });\n              this.isSelectAll = false;\n            }\n          }\n          return '';\n        });\n    },\n    // 移動類別\n    async bookingItemCategoryMove() {\n      const newBookingItemCategory = this.BookingItemCategory.map((i) => i.id);\n      const submit = {\n        input: newBookingItemCategory,\n      };\n      const resp = await this.$api.updateBookingItemCategorySorting(submit);\n      const { errors } = resp.data;\n      if (errors) return '';\n      await this.getBookingItemCategory(this.seletedTab, false);\n      return '';\n    },\n    // 移動項目\n    async bookingItemMove() {\n      const newBookingItemList = this.resultList.map((i) => i.id);\n      const submit = {\n        input: newBookingItemList,\n      };\n      const resp = await this.$api.updateBookingItemSorting(submit);\n      const { errors } = resp.data;\n      if (errors) return '';\n      await this.getBookingItemCategory(this.seletedTab, false);\n      return '';\n    },\n\n    // 點擊類別頁籤\n    handleCategory(id) {\n      this.isSelectAll = false;\n      this.seletedTab = id;\n      const { bookingItem } = this.BookingItemCategory.filter((Category) => Category.id === id)[0];\n      this.handleBookingItem(bookingItem, false);\n    },\n    // 處理顯示的項目，把打勾清掉、根據高價、低價顯示金額\n    handleBookingItem(bookingItem, checked) {\n      this.resultList = bookingItem.map((item) => {\n        const obj = {};\n        let showPrice = 0;\n        const up = !!(item.highestPrice === null || item.highestPrice === '');\n        if (up) showPrice = `${item.lowestPrice} up`;\n        else if (item.highestPrice === item.lowestPrice) showPrice = `${item.lowestPrice}`;\n        else showPrice = `${item.lowestPrice} ~ ${item.highestPrice}`;\n        obj.id = item.id;\n        obj.sort = item.sort;\n        obj.bookingItemCategoryId = item.bookingItemCategoryId;\n        obj.bookingItemCategoryName = item.bookingItemCategoryName;\n        obj.name = item.name;\n        obj.lowestPrice = item.lowestPrice;\n        obj.highestPrice = item.highestPrice;\n        obj.showPrice = showPrice;\n        obj.checked = checked;\n        obj.isUsing = item.isUsing;\n        return obj;\n      });\n    },\n    isNumeric(val) {\n      return /^-?\\d+$/.test(val);\n    },\n    examInput(name, lowestPrice, highestPrice) {\n      if (name === '' || name === null || lowestPrice === '' || lowestPrice === null) {\n        this.$swal.showValidationMessage('項目名稱、最低價為必填');\n      } else if (!this.isNumeric(lowestPrice)) {\n        this.$swal.showValidationMessage('請輸入正確的最低價');\n      } else if (highestPrice !== '' && highestPrice !== null) {\n        if (!this.isNumeric(highestPrice)) this.$swal.showValidationMessage('請輸入正確的最高價');\n        else if (+highestPrice < +lowestPrice) this.$swal.showValidationMessage('最高價格不能小於最低價格');\n      }\n    },\n  },\n  computed: {},\n  watch: {\n    isSelectAll() {\n      this.handleBookingItem(this.resultList, this.isSelectAll);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.scrollnone {\n  &::-webkit-scrollbar {\n    display: none !important;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f5f96234&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f5f96234&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f5f96234\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","enabled","on","bookingItemCategoryMove","$event","dragging","model","value","BookingItemCategory","callback","$$v","expression","_l","category","key","id","class","seletedTab","handleCategory","_v","_s","name","updateBookingItemCategory","createBookingItemCategory","length","_m","isSelectAll","createBookingItem","deleteBookingItem","resultList","changeBookingItemUsing","bookingItemMove","item","checked","$set","isUsing","showPrice","deleteSingleBookingItem","updateBookingItem","_e","staticRenderFns","description","metaInfo","title","titleTemplate","data","mounted","methods","errors","bookingItem","fire","input","confirmButtonText","cancelButtonText","showConfirmButton","showCancelButton","showCloseButton","customClass","preConfirm","then","icon","timer","timerProgressBar","inputValue","denyButtonText","showDenyButton","html","bookingItemCategoryId","focusConfirm","lowestPrice","highestPrice","isUp","showHighestPrice","bookingItemId","confirmButton","filter","map","handleBookingItem","obj","isNumeric","examInput","computed","watch","component"],"sourceRoot":""}